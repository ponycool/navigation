import{a6 as p,r as n,bs as x,u as E,a as b,j as e,a7 as o,ab as T,aa as g,B as f,bt as L,aP as B}from"./index.c8b1aa20.js";import{D as k}from"./index.1f76d709.js";import"./index.c381fd4d.js";import{I as O}from"./index.af6e232c.js";const q={"en-US":{"menu.list":"List Page","menu.list.searchTable":"Search Table","searchTable.form.search":"Search","searchTable.form.reset":"Reset","searchTable.columns.id":"ID","searchTable.columns.operations":"Operations","searchTable.columns.message":"Message","searchTable.columns.name":"Account Name","searchTable.columns.keyword":"Keyword","searchTable.columns.ip":"IP","searchTable.columns.action":"Action","searchTable.columns.level":"Log Level","searchTable.columns.category":"Log Category","searchTable.columns.time":"Time","searchTable.columns.createdTime":"Created Time","searchTable.operations.reload":"Refresh"},"zh-CN":{"menu.list":"\u5217\u8868\u9875","menu.list.searchTable":"\u67E5\u8BE2\u8868\u683C","searchTable.form.search":"\u67E5\u8BE2","searchTable.form.reset":"\u91CD\u7F6E","searchTable.columns.id":"ID","searchTable.columns.operations":"\u64CD\u4F5C","searchTable.columns.message":"\u6D88\u606F","searchTable.columns.name":"\u8D26\u6237\u540D\u79F0","searchTable.columns.keyword":"\u5173\u952E\u8BCD","searchTable.columns.ip":"IP","searchTable.columns.action":"\u64CD\u4F5C","searchTable.columns.level":"\u65E5\u5FD7\u7EA7\u522B","searchTable.columns.category":"\u65E5\u5FD7\u7C7B\u522B","searchTable.columns.time":"\u65F6\u95F4","searchTable.columns.createdTime":"\u521B\u5EFA\u65F6\u95F4","searchTable.operations.reload":"\u5237\u65B0"}},j="_toolbar_y8eq5_1",P="_operations_y8eq5_6",N="_gender_y8eq5_16";var d={toolbar:j,operations:P,"content-type":"_content-type_y8eq5_9",gender:N,"search-form-wrapper":"_search-form-wrapper_y8eq5_23","right-button":"_right-button_y8eq5_28","button-group":"_button-group_y8eq5_37","search-form":"_search-form_y8eq5_23"};function J(c){return p({url:"/log/system",method:"post",data:c})}function R(){return p({url:"/log/level",method:"post"})}function A(){return p({url:"/log/category",method:"post"})}const{RangePicker:M}=k,{Row:Y,Col:t}=B,{useForm:z}=o;function G(c){const{lang:y}=n.exports.useContext(x),a=E(q),[u]=z(),[_,C]=n.exports.useState([]),[S,v]=n.exports.useState([]);n.exports.useEffect(()=>{w(),F()},[]);const D=()=>{const r=u.getFieldsValue();c.onSearch(r)};function w(){R().then(r=>{if(r.data.code===0){const l=r.data.list,i=Object.entries(l).map(([m,h])=>({label:h.toString(),value:m.toString()}));C(i)}})}function F(){A().then(r=>{if(r.data.code===0){const l=r.data.list,i=Object.entries(l).map(([m,h])=>({label:h.toString(),value:m.toString()}));v(i)}})}const I=()=>{u.resetFields(),c.onSearch({})},s=y==="zh-CN"?8:12;return b("div",{className:d["search-form-wrapper"],children:[e(o,{form:u,className:d["search-form"],labelAlign:"left",labelCol:{span:5},wrapperCol:{span:19},children:b(Y,{gutter:24,children:[e(t,{span:s,children:e(o.Item,{label:a["searchTable.columns.level"],field:"level",children:e(T,{placeholder:a["searchTable.columns.level"],options:_,allowClear:!0,showSearch:!0,filterOption:(r,l)=>l.props.children.indexOf(r)>=0})})}),e(t,{span:s,children:e(o.Item,{label:a["searchTable.columns.category"],field:"category",children:e(T,{placeholder:a["searchTable.columns.category"],options:S,allowClear:!0,showSearch:!0,filterOption:(r,l)=>l.props.children.indexOf(r)>=0})})}),e(t,{span:s,children:e(o.Item,{label:a["searchTable.columns.name"],field:"name",children:e(g,{allowClear:!0,placeholder:a["searchTable.columns.name"]})})}),e(t,{span:s,children:e(o.Item,{label:a["searchTable.columns.time"],field:"time",children:e(M,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD"})})}),e(t,{span:s,children:e(o.Item,{label:a["searchTable.columns.keyword"],field:"keyword",children:e(g,{allowClear:!0,placeholder:a["searchTable.columns.keyword"]})})})]})}),b("div",{className:d["right-button"],children:[e(f,{type:"primary",icon:e(L,{}),onClick:D,children:a["searchTable.form.search"]}),e(f,{icon:e(O,{}),style:{marginTop:10},onClick:I,children:a["searchTable.form.reset"]})]})]})}var Q=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{G as S,Q as f,J as g,q as i,d as s};
