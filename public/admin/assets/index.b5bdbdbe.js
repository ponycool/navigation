import{aR as Me,R as L,aM as zt,aS as mn,aT as bn,aU as yn,aL as Hr,aV as wn,aW as Cn,aX as xn,r as m,j as d,aY as _n,aJ as On,aZ as Pn,C as Ae,g as nr,al as or,aH as Rn,aI as Sn,a_ as En,U as ie,a as A,J as qr,K as kn,c as oe,aN as Nn,F as Je,aK as In,af as it,o as ar,a4 as W,ab as Dn,B as st,b as ct,X as Tn,a5 as Mn,au as je,ac as ke,ad as Ne,a$ as br,b0 as Fn,Q as jn,H as Ct,W as Ln,p as Ue,_ as Ve,ak as An,T as $t,b1 as Un,b2 as Vn,ae as zn,b3 as Mt,ay as Wt,b4 as $n,aO as Gr,b5 as Wn,b6 as J,E as Ft,ax as Bn,M as ht,P as Zn}from"./index.42860b0d.js";import{P as Hn}from"./index.9cb57b7a.js";import{a as qn,b as Gn,c as Xn}from"./index.9f2b2a14.js";import{I as Xr}from"./index.558791e7.js";var de=globalThis&&globalThis.__assign||function(){return de=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},de.apply(this,arguments)};function Kn(t){var o=xn(),e=o.prefixCls,r=o.simple;return L.createElement(ir,de({prefixCls:e,simple:r},t),t.content)}var xt=function(t){var o=t.icon;if(!o&&o!==null&&(o=L.createElement(zt,null),t.isNotice))switch(t.noticeType){case"info":o=L.createElement(yn,null);break;case"success":o=L.createElement(bn,null);break;case"warning":o=L.createElement(zt,null);break;case"error":o=L.createElement(mn,null);break}return t.isNotice&&(t.hideCancel=!0),t.title=o===null&&t.title===null?null:L.createElement("span",null,o,t.title),t};function Kr(t,o){var e,r=document.createElement("div");document.body.appendChild(r);var n=Cn();function a(f){var v=L.createElement(Hr,de({},n),L.createElement(Kn,de({},f,{onCancel:u})));e?e.render(v):e=wn(v,r)}var i=o||a,s=de(de({},t),{visible:!1}),c=function(){var f,v=t.onOk||t.onConfirm;v&&(f=v()),f&&f.then&&(s.confirmLoading=!0,i(s),f.then(function(){u(!0)},function(C){console.error(C),s.confirmLoading=!1,i(s)})),f||u(!0)};s.onOk=c,s=xt(s),s.visible=!0,i(s);function l(){e=e==null?void 0:e._unmount(),r.parentNode&&r.parentNode.removeChild(r);for(var f=0;f<Me.length;f++){var v=Me[f];if(v===p){Me.splice(f,1);break}}}function u(f){!f&&t.onCancel&&t.onCancel(),s.visible=!1,s.afterClose=function(){t.afterClose&&t.afterClose(),l()},i(s)}function h(f){s=de(de(de({},s),{title:t.title}),f),s=xt(s),i(s)}function p(){s.visible=!1,s.afterClose=function(){t.afterClose&&t.afterClose(),l()},i(s)}return Me.push(p),{close:p,update:h}}var Ie=globalThis&&globalThis.__assign||function(){return Ie=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ie.apply(this,arguments)},yr=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a};function Yn(t,o){var e=yr(m.exports.useState(!0),2),r=e[0],n=e[1],a=yr(m.exports.useState(t),2),i=a[0],s=a[1];m.exports.useImperativeHandle(o,function(){return{update:function(u){s(u)},close:function(){n(!1)}}});function c(){var u=i.onOk&&i.onOk();u&&u.then&&(s(function(h){return Ie(Ie({},h),{confirmLoading:!0})}),u.then(function(){n(!1)},function(h){console.error(h),s(function(p){return Ie(Ie({},p),{confirmLoading:!1})})})),u||n(!1)}function l(){i.onCancel&&i.onCancel(),n(!1)}return d(ir,{...Ie({unmountOnExit:!0,simple:!0},i,{visible:r,onOk:c,onCancel:l}),children:i.content})}var Jn=m.exports.forwardRef(Yn),se=globalThis&&globalThis.__assign||function(){return se=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},se.apply(this,arguments)};function Qn(){var t=m.exports.useRef(),o=d(_n,{ref:t}),e=0;function r(a){var i;e+=1;var s=m.exports.createRef(),c=se({},a);function l(){a.afterClose&&a.afterClose(),h()}var u=d(Jn,{...se({key:e,ref:s},xt(se({},a)),{afterClose:l})});(i=t.current)===null||i===void 0||i.addInstance(u);function h(){var v;(v=t.current)===null||v===void 0||v.removeInstance(u)}function p(){var v;(v=s.current)===null||v===void 0||v.close()}function f(v){var C;c=se(se({},c),v),(C=s.current)===null||C===void 0||C.update(xt(se({},c)))}return Me.push(p),{close:p,update:f}}var n={confirm:function(a){return r(se({},a))}};return["info","success","warning","error"].forEach(function(a){n[a]=function(i){return r(se(se({},i),{isNotice:!0,noticeType:a}))}}),[n,o]}var le=globalThis&&globalThis.__assign||function(){return le=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},le.apply(this,arguments)},eo=globalThis&&globalThis.__rest||function(t,o){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e},jt=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},Bt=null,to=0;On||document.documentElement.addEventListener("click",function(t){Bt={left:t.clientX,top:t.clientY},setTimeout(function(){Bt=null},100)},!0);var ro={mask:!0,maskClosable:!0,mountOnEnter:!0,escToExit:!0,getPopupContainer:function(){return document.body},alignCenter:!0};function no(t,o){var e,r,n,a=m.exports.useContext(Ae),i=nr(t,ro,(n=a.componentConfig)===null||n===void 0?void 0:n.Modal),s=i.className,c=i.style,l=i.visible,u=i.simple,h=i.title,p=i.children,f=i.cancelText,v=i.okText,C=i.okButtonProps,y=i.cancelButtonProps,g=i.getPopupContainer,_=g===void 0?function(){return document.body}:g,b=i.footer,w=i.afterClose,O=i.confirmLoading,x=i.mountOnEnter,P=i.unmountOnExit,R=i.afterOpen,M=i.hideCancel,T=i.autoFocus,G=i.focusLock,V=i.maskClosable,H=i.mask,X=i.alignCenter,re=i.getChildrenPopupContainer,K=i.wrapClassName,I=i.escToExit,z=i.modalRender,B=i.maskStyle,xe=i.wrapStyle,ue=i.closeIcon,_e=eo(i,["className","style","visible","simple","title","children","cancelText","okText","okButtonProps","cancelButtonProps","getPopupContainer","footer","afterClose","confirmLoading","mountOnEnter","unmountOnExit","afterOpen","hideCancel","autoFocus","focusLock","maskClosable","mask","alignCenter","getChildrenPopupContainer","wrapClassName","escToExit","modalRender","maskStyle","wrapStyle","closeIcon"]),F=m.exports.useRef(null),S=m.exports.useRef(null),fe=m.exports.useRef(null),$e=jt(m.exports.useState(),2),We=$e[0],Be=$e[1],Ze=jt(m.exports.useState(),2),ut=Ze[0],q=Ze[1],Oe=m.exports.useRef(null),tt=m.exports.useRef(!1),ge=m.exports.useRef(!1),He=m.exports.useRef(!0);l&&He.current&&(He.current=!1);var Pe=m.exports.useRef();Pe.current||(Pe.current=to++);var ft=jt(or(!1,{defaultValue:!1,value:O}),2),me=ft[0],be=ft[1],Y=a.getPrefixCls("modal",i.prefixCls),Re=a.locale,dt=a.rtl,kt=!u,Nt="closable"in i?i.closable:kt,pt=m.exports.useCallback(function(){return Rn(_())},[_]);Sn(pt,{hidden:l&&H});var Se=function(){i.onCancel&&i.onCancel()},qe=function(E){I&&l&&E.key===Dn.key&&(E.stopPropagation(),Se())},rt=m.exports.useRef(!1),It=function(E){!ge.current||(ge.current=!1,!rt.current&&V&&H&&E.target===E.currentTarget&&setTimeout(function(){Se()},100))},Dt=function(E){var Z=i.onConfirm,ve=i.onOk,we=ve||Z,he;we&&(he=we(E)),he&&he.then&&(be(!0),he.then(function(){be(!1)},function(nt){be(!1),console.error(nt)}))};m.exports.useEffect(function(){var E=null;return I&&(E=setTimeout(function(){var Z;En(document.body,F.current)&&((Z=F.current)===null||Z===void 0||Z.focus())})),function(){E&&clearTimeout(E)}},[l,I]);var Tt=function(){var E;if(l&&ut===void 0&&F.current){var Z=+((E=window.getComputedStyle(F.current,null))===null||E===void 0?void 0:E.zIndex);isNaN(Z)||q(Z+1)}},vt=function(){if(b!==null){var E=d(st,{...le({onClick:Se},y),children:f||Re.Modal.cancelText}),Z=d(st,{...le({loading:me,onClick:Dt,type:"primary"},C),children:v||Re.Modal.okText}),ve=W(b)?b(E,Z):b||A(Je,{children:[!M&&E,Z]});return d("div",{className:Y+"-footer",children:ve})}},Ge=a.focusLock.modal,N=!!Ge,k=ie(Ge)&&Ge.autoFocus,D=G!==void 0?G:N,j=T!==void 0?T:k,$=A(Hr,{...le({},a,{prefixCls:i.prefixCls||a.prefixCls,locale:Re,zIndex:ut||1050,getPopupContainer:function(E){return typeof re=="function"?re(E):S.current}}),children:[h&&d("div",{className:Y+"-header",children:d("div",{className:Y+"-title",id:"arco-dialog-"+Pe.current,children:h})}),d("div",{ref:S,className:Y+"-content",children:p}),vt(),Nt&&(ue!==void 0?d("span",{onClick:Se,className:Y+"-close-icon",children:ue}):d(qr,{tabIndex:-1,onClick:Se,className:Y+"-close-icon",role:"button","aria-label":"Close",children:d(kn,{})}))]}),ne=h?{"aria-labelledby":"arco-dialog-"+Pe.current}:{},ae=d("div",{...le({role:"dialog","aria-modal":"true"},ne,{className:oe(Y,(e={},e[Y+"-simple"]=u,e[Y+"-rtl"]=dt,e),s),style:c,ref:fe}),children:D?d(Nn,{crossFrame:!1,disabled:!l,autoFocus:j,lockProps:{tabIndex:-1,onKeyDown:qe},children:$}):d(Je,{children:$})}),Q=function(E){if(!tt.current){var Z="";if(Oe.current){var ve=E.getBoundingClientRect(),we=Oe.current,he=we.left,nt=we.top;Z=he-ve.left+"px "+(nt-ve.top)+"px"}E.style.transformOrigin=Z}},ye=He.current?!x:!!fe.current;return l||ye?d(In,{visible:l,forceRender:ye,getContainer:_,children:A("div",{ref:o,children:[H?d(it,{in:l,timeout:400,appear:!0,mountOnEnter:x,classNames:"fadeModal",unmountOnExit:P,onEnter:function(E){!E||(E.style.display="block")},onExited:function(E){!E||(E.style.display="none")},children:d("div",{"aria-hidden":!0,className:Y+"-mask",style:B})}):null,d("div",{...le({},ar(_e,["content","icon","showIcon","isNotice","noticeType","onCancel","onOk","onConfirm","closable","prefixCls"]),{tabIndex:!D||!j?-1:null,ref:function(E){F.current=E,Tt()},className:oe(Y+"-wrapper",(r={},r[Y+"-wrapper-no-mask"]=!H,r[Y+"-wrapper-align-center"]=X,r[Y+"-wrapper-rtl"]=dt,r),K),style:le(le({},xe||{}),{display:l||We?"block":"none",overflow:!l&&We?"hidden":""}),onKeyDown:!D||!j?qe:null,onMouseDown:function(E){ge.current=E.target===E.currentTarget},onClick:It}),children:d(it,{in:l,timeout:400,appear:!0,classNames:"zoomModal",unmountOnExit:P,mountOnEnter:x,onEnter:function(E){!E||(Be(!0),Oe.current=Bt,tt.current=!!E.style.transformOrigin,Q(E),fe.current=E)},onEntered:function(E){!E||(Q(E),Oe.current=null,R==null||R())},onExit:function(){rt.current=!0},onExited:function(E){!E||(Be(!1),Q(E),w==null||w(),rt.current=!1,P&&(fe.current=null))},children:L.cloneElement(W(z)?z(ae):ae,{onMouseDown:function(){ge.current=!1},onMouseUp:function(){ge.current=!1}})})})]})}):null}var ze=m.exports.forwardRef(no);ze.displayName="Modal";ze.config=Pn;ze.confirm=function(t){return Kr(t)};ze.useModal=Qn;["info","success","warning","error"].forEach(function(t){ze[t]=function(o){return Kr(le(le({},o),{isNotice:!0,noticeType:t}))}});ze.destroyAll=function(){for(;Me.length;){var t=Me.pop();t&&t()}};var ir=ze;function sr(t,o){return o===void 0&&(o=15),+parseFloat(Number(t).toPrecision(o))}function pe(t){var o=t.toString().split(/[eE]/),e=(o[0].split(".")[1]||"").length-+(o[1]||0);return e>0?e:0}function lt(t){if(t.toString().indexOf("e")===-1)return Number(t.toString().replace(".",""));var o=pe(t);return o>0?sr(Number(t)*Math.pow(10,o)):Number(t)}function Zt(t){Yr&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function Rt(t){return function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];var r=o[0],n=o.slice(1);return n.reduce(function(a,i){return t(a,i)},r)}}var ce=Rt(function(t,o){var e=lt(t),r=lt(o),n=pe(t)+pe(o),a=e*r;return Zt(a),a/Math.pow(10,n)}),Qe=Rt(function(t,o){var e=Math.pow(10,Math.max(pe(t),pe(o)));return(ce(t,e)+ce(o,e))/e}),_t=Rt(function(t,o){var e=Math.pow(10,Math.max(pe(t),pe(o)));return(ce(t,e)-ce(o,e))/e}),St=Rt(function(t,o){var e=lt(t),r=lt(o);return Zt(e),Zt(r),ce(e/r,sr(Math.pow(10,pe(o)-pe(t))))});function oo(t,o){var e=Math.pow(10,o),r=St(Math.round(Math.abs(ce(t,e))),e);return t<0&&r!==0&&(r=ce(r,-1)),r}var Yr=!0;function ao(t){t===void 0&&(t=!0),Yr=t}var io={strip:sr,plus:Qe,minus:_t,times:ce,divide:St,round:oo,digitLength:pe,float2Fixed:lt,enableBoundaryChecking:ao},Ht=globalThis&&globalThis.__assign||function(){return Ht=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ht.apply(this,arguments)},wr=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},so={maxWidth:350},lo={enter:300,exit:100},co={left:12,right:12,top:12,bottom:12},uo=function(t){var o,e=t.style,r=t.disabled,n=t.prefixCls,a=t.value,i=t.vertical,s=t.tooltipVisible,c=t.tooltipPosition,l=t.formatTooltip,u=t.getTooltipContainer,h=t.onMoving,p=t.onMoveEnd,f=t.onMoveBegin,v=ct(),C=wr(m.exports.useState(!1),2),y=C[0],g=C[1],_=wr(or(!1,{value:s}),2),b=_[0],w=_[1],O=m.exports.useContext(Ae).getPrefixCls,x=m.exports.useMemo(function(){return c||(i?"right":"top")},[c,i]),P=m.exports.useRef(null),R=m.exports.useRef(!1),M=m.exports.useRef(!1),T=m.exports.useRef(null);function G(F){F.stopPropagation(),!r&&(X(F),g(!0),ke(window,"mousemove",re),ke(window,"touchmove",re),ke(window,"mouseup",K),ke(window,"touchend",K),ke(window,"contextmenu",K))}function V(){R.current=!0,z(),b||(P.current=setTimeout(function(){B(!0)},50))}function H(){R.current=!1,M.current||(z(),P.current=setTimeout(function(){B(!1)},200))}function X(F){F.preventDefault();var S=document.activeElement;S&&S.blur&&S.blur(),W(f)&&f()}function re(F){M.current=!0,F.type==="touchstart"&&(F.clientY=F.touches[0].clientY,F.clientX=F.touches[0].clientX),W(h)&&h(F.clientX,F.clientY)}function K(){M.current=!1,g(!1),I(),B(R.current),W(p)&&p()}function I(){z(),Ne(window,"mousemove",re),Ne(window,"touchmove",re),Ne(window,"mouseup",K),Ne(window,"touchend",K),Ne(window,"contextmenu",K)}function z(){P.current&&(clearTimeout(P.current),P.current=null)}function B(F){if(!M.current){var S="tooltipVisible"in t?s:F;w(S)}}function xe(){R.current=!0,z()}var ue=m.exports.useMemo(function(){return W(l)?l(a):a},[l,a]);function _e(F){var S=O("tooltip");return d("div",{className:oe(S+"-content",S+"-content-"+F),onMouseLeave:H,onMouseEnter:xe,onClick:function(fe){fe.stopPropagation()},children:d("div",{className:S+"-content-inner",children:ue})})}return m.exports.useEffect(function(){T&&T.current&&T.current.updatePopupPosition()},[a]),d(Tn,{style:so,classNames:"zoomInFadeOut",duration:lo,showArrow:!0,popupAlign:co,ref:T,popup:function(){return _e(x)},popupVisible:b,disabled:s===!1,getPopupContainer:u,position:x,childrenPrefix:O("tooltip"),children:d("div",{...Ht({className:oe(n+"-button",(o={},o[n+"-button-active"]=y,o)),onMouseDown:G,onMouseEnter:V,onMouseLeave:H,style:e,role:"slider","aria-valuemax":t.maxValue,"aria-valuemin":t.minValue,"aria-valuenow":a,"aria-disabled":!!r,tabIndex:r?-1:0,"aria-valuetext":Mn(ue)||je(ue)?String(ue):void 0},v({onArrowRight:function(F){var S;F.preventDefault(),(S=t.onArrowEvent)===null||S===void 0||S.call(t,"addition")},onArrowUp:function(F){var S;F.preventDefault(),(S=t.onArrowEvent)===null||S===void 0||S.call(t,"addition")},onArrowLeft:function(F){var S;F.preventDefault(),(S=t.onArrowEvent)===null||S===void 0||S.call(t,"subtraction")},onArrowDown:function(F){var S;F.preventDefault(),(S=t.onArrowEvent)===null||S===void 0||S.call(t,"subtraction")}}))})})},fo=m.exports.memo(uo),po=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a};function vo(t){var o=(""+t).split(".")[1];return o&&o.length||0}function Fe(t){return t*100+"%"}function ho(t,o){var e=Number(t);if(o&&!isNaN(e)){var r=po(o,2),n=r[0],a=r[1];return St(_t(e,n),_t(a,n))}return 0}function Jr(t,o){var e=Number(t);return o.sort(function(r,n){return r-n}),e>=o[0]&&e<=o[1]}function Lt(t){return t||t===0}function go(t){var o=parseFloat(t),e=o>1?(o/100).toFixed(2):o,r=parseFloat(e);if(!isNaN(r)&&r>=0&&r<=1)return r}function Ye(t,o){var e=o.find(function(u){return t>=u.begin&&t<=u.end});if(e){var r=e.beginOffset,n=e.begin,a=e.end,i=e.endOffset,s=ho(t,[n,a]),c=_t(i,r),l=ce(s,c);return Qe(r,l)}}function qt(t){var o=t.slice(0);return o.sort(function(e,r){return e-r}),o}function mo(t){return t.some(function(o,e){return o>t[e+1]})}function bo(t,o){var e=o.indexOf(t);if(e===-1){var r=qt(o.concat(t));return e=r.indexOf(t),[Math.max(e-1,0),Math.min(e,o.length-1)]}return[e,e+1]}var yo=function(t){var o=t.data,e=o===void 0?[]:o,r=t.vertical,n=t.prefixCls,a=t.reverse,i=t.intervalConfigs;return e.length?d("div",{className:n+"-marks",children:e.map(function(s){var c,l,u=s.key,h=s.content,p=Fe(Ye(+u,i)),f=null;return ie(h)&&Lt(h.text)?f=h.text:Lt(h)&&(f=h),Lt(f)&&d("div",{className:n+"-marks-text","aria-hidden":!0,style:r?(c={},c[a?"top":"bottom"]=p,c):(l={},l[a?"right":"left"]=p,l),onMouseDown:function(v){v.stopPropagation(),W(t.onMouseDown)&&t.onMouseDown(parseFloat(u))},children:f},u)})}):null},wo=m.exports.memo(yo),Gt=globalThis&&globalThis.__assign||function(){return Gt=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Gt.apply(this,arguments)},Co=function(t){var o=t.data,e=o===void 0?[]:o,r=t.valueRange,n=r===void 0?[]:r,a=t.vertical,i=t.prefixCls,s=t.reverse,c=t.intervalConfigs;return e.length?d("div",{className:i+"-dots",children:e.map(function(l){var u,h,p,f=l.key,v=l.content,C=Fe(Ye(+f,c));return d("div",{className:i+"-dot-wrapper",style:Gt({},a?(u={},u[s?"top":"bottom"]=C,u):(h={},h[s?"right":"left"]=C,h)),onMouseDown:function(y){y.stopPropagation(),W(t.onMouseDown)&&t.onMouseDown(parseFloat(f))},children:ie(v)&&v.dot?v.dot:d("div",{className:oe(i+"-dot",(p={},p[i+"-dot-active"]=Jr(f,n),p))})},f)})}):null},xo=m.exports.memo(Co),Ce=globalThis&&globalThis.__assign||function(){return Ce=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ce.apply(this,arguments)},Cr=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},_o=globalThis&&globalThis.__spreadArray||function(t,o,e){if(e||arguments.length===2)for(var r=0,n=o.length,a;r<n;r++)(a||!(r in o))&&(a||(a=Array.prototype.slice.call(o,0,r)),a[r]=o[r]);return t.concat(a||Array.prototype.slice.call(o))},Oo=function(t){var o,e=t.value,r=t.range,n=t.min,a=t.max,i=t.step,s=t.disabled,c=t.prefixCls,l=t.onChange,u=t.extra,h=u===void 0?[]:u,p={min:n,max:a,step:i,disabled:s},f=Cr(m.exports.useState(e),2),v=f[0],C=f[1],y=h[0],g=r?h[1]:h[0];m.exports.useEffect(function(){C(e)},[e]);var _=function(w){l==null||l(w)},b=function(){C(_o([],Cr(e),!1).sort(function(w,O){return w-O}))};return A("div",{className:oe(c+"-input",(o={},o[c+"-input-group"]=r,o)),onBlur:b,children:[r&&[d(br,{...Ce({},Ce(Ce({hideControl:!0},y),p),{value:v[0],key:0,onChange:function(w,O){isNaN(w)&&w!==w||(_([w,v[1]]),y!=null&&y.onChange&&(y==null||y.onChange(w,O)))}})}),d("div",{className:c+"-input-range",children:d("span",{className:c+"-input-range-content"})},1)],d(br,{...Ce({},Ce(Ce({hideControl:!0},g),p),{key:2,value:v[1],onChange:function(w,O){isNaN(w)&&w!==w||(_([v[0],w]),g!=null&&g.onChange&&(g==null||g.onChange(w,O)))}})})]})},Po=m.exports.memo(Oo),Ro=m.exports.memo(function(o){var e=o.min,r=o.max,n=o.valueRange,a=o.prefixCls,i=o.vertical,s=o.reverse,c=o.intervalConfigs,l=new Map,u=function(p){for(var f=p.step,v=p.begin,C=p.end,y=Math.floor((C-v)/f),g=0;g<=y;g++){var _=Qe(g*f,v);if(!(_<=e||_>=r)){var b=Fe(Ye(_,c));l.set(b,{offset:b,isActive:Jr(_,n)})}}},h=m.exports.useMemo(function(){return l.clear(),c.forEach(function(p){return u(p)}),Array.from(l.values())},[c]);return d("div",{className:a+"-ticks",children:h.map(function(p,f){var v,C,y;return d("div",{className:oe(a+"-tick",(v={},v[a+"-tick-active"]=p.isActive,v)),style:i?(C={},C[s?"top":"bottom"]=p.offset,C):(y={},y[s?"right":"left"]=p.offset,y)},f)})})}),So=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a};function Eo(t){var o=t.isRange,e=t.min,r=t.max,n=t.onlyMarkValue,a=t.intervalConfigs,i=t.marks,s=m.exports.useCallback(function(f){var v=a.find(function(O){return f>=O.begin&&f<=O.end});if(v){var C=v.begin,y=v.step,g=f-C,_=Math.round(g/y),b=vo(y),w=parseFloat(ce(y,_).toFixed(b));return Qe(C,w)}return f},[a]),c=m.exports.useCallback(function(f){if(!ie(i)||Fn(i))return console.warn("marks must be an object when onlyMarkValue is true"),e;if(i[f])return f;var v=Object.keys(i),C=v.map(function(g){return Math.abs(f-parseFloat(g))}),y=C.indexOf(Math.min.apply(null,C));return parseFloat(v[y])},[i,e]),l=m.exports.useCallback(function(f){return jn(f)||f<=e?e:f>=r?r:n?c(f):s(f)},[c,s,r,e,n]),u=m.exports.useCallback(function(f){return l(f)===f},[l]),h=m.exports.useCallback(function(f){var v=So([e,e],2),C=v[0],y=v[1];if(o){if(Ct(f))return C=l(f[0]),f.map(function(g){return l(g)});console.error("value must be an array when range is true")}else je(f)?y=l(f):console.error("value must be a number when range is false");return[C,y]},[l,o,e]),p=m.exports.useCallback(function(f,v){var C=v==="subtraction"?-1:1,y=Qe(f,C*t.step);if(t.onlyMarkValue){var g=Object.keys(t.marks),_=g.findIndex(function(b){return Number(b)===f});y=g[_+C]!==void 0?Number(g[_+C]):f}return y},[t.marks,t.onlyMarkValue,t.step]);return{getLegalRangeValue:h,getLegalValue:l,isLegalValue:u,getNextMarkValue:p}}var At=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a};function ko(t){if(t.length<2)return[];for(var o=[],e=1;e<t.length;e++){var r=t[e-1],n=t[e];o.push([r,n])}return o}function No(t){var o=t.marks,e=o===void 0?{}:o,r=t.getIntervalConfig,n=t.max,a=t.min,i=m.exports.useMemo(function(){var u=Object.keys(e).filter(function(v){return je(+v)&&+v>=a&&+v<=n}).sort(function(v,C){return+v>+C?1:-1}),h=u.map(function(v){return{key:v,content:e[v]}}),p=u.map(function(v){return+v});p.length===0?p=[a,n]:(p[0]>a&&(p.unshift(a),h.unshift({key:""+a,content:""})),p.slice(-1)[0]<n&&(p.push(n),h.push({key:""+n,content:""})));var f=ko(p);return{markIntervals:f,markList:h}},[e,a,n]),s=i.markIntervals,c=i.markList,l=m.exports.useMemo(function(){if(!W(r))return[{begin:a,end:n,step:t.step,beginOffset:0,endOffset:1,width:1}];var u=function(y,g){var _=At(y,2),b=_[0],w=_[1],O={step:t.step,width:0},x=r([b,w],g)||{},P=x.step,R=go(x.width);return je(P)&&P&&(O.step=P),je(R)&&R&&(O.width=R),O},h=1,p=n-a,f=s.map(function(y,g){var _=At(y,2),b=_[0],w=_[1],O=u([b,w],g),x=O.width;if(x){x=Math.min(h,x);var P=w-b;p-=P,h-=x}return{width:x,step:O.step}});if(f.every(function(y){var g=y.width;return g})&&h){var v=f[s.length-1];v.width+=h}var C=[];return s.forEach(function(y,g){var _=At(y,2),b=_[0],w=_[1],O=f[g],x=O.step,P=O.width,R={begin:b,end:w,step:x,beginOffset:0,endOffset:0,width:P};R.width||(R.width=h*((w-b)/p));var M=C.length-1;C[M]&&(R.beginOffset=C[M].endOffset),R.endOffset=Math.min(1,R.beginOffset+R.width),C.push(R)}),C},[r,s,n,a,t.step]);return{intervalConfigs:l,markList:c}}var De=globalThis&&globalThis.__assign||function(){return De=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},De.apply(this,arguments)},Io=globalThis&&globalThis.__rest||function(t,o){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e},Ee=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},Do=globalThis&&globalThis.__spreadArray||function(t,o,e){if(e||arguments.length===2)for(var r=0,n=o.length,a;r<n;r++)(a||!(r in o))&&(a||(a=Array.prototype.slice.call(o,0,r)),a[r]=o[r]);return t.concat(a||Array.prototype.slice.call(o))};io.enableBoundaryChecking(!1);var To={max:100,min:0,step:1};function Mo(t,o){var e,r,n=m.exports.useContext(Ae),a=n.getPrefixCls,i=n.componentConfig,s=n.rtl,c=nr(t,To,i==null?void 0:i.Slider),l=c.className,u=c.style,h=c.tooltipVisible,p=c.tooltipPosition,f=c.disabled,v=c.min,C=c.max,y=c.range,g=c.step,_=c.showTicks,b=c.marks,w=c.onlyMarkValue,O=c.vertical,x=c.showInput,P=c.reverse,R=c.getIntervalConfig,M=Io(c,["className","style","tooltipVisible","tooltipPosition","disabled","min","max","range","step","showTicks","marks","onlyMarkValue","vertical","showInput","reverse","getIntervalConfig"]),T=!!y,G=ie(y)?De({},y):{draggableBar:!1},V=s?!P:P,H=No({min:v,max:C,onlyMarkValue:w,step:g,marks:b,getIntervalConfig:R}),X=H.intervalConfigs,re=H.markList,K=Eo({isRange:T,min:v,max:C,onlyMarkValue:w,step:g,intervalConfigs:X,marks:b}),I=K.getLegalValue,z=K.getLegalRangeValue,B=K.isLegalValue,xe=K.getNextMarkValue,ue=Ee(or(T?[v,v]:v,{defaultValue:c.defaultValue,value:c.value}),2),_e=ue[0],F=ue[1],S=z(_e),fe=m.exports.useRef(S),$e=m.exports.useRef(mo(S));Ln(function(){fe.current=z(_e)},[_e,z]),$e.current&&(S=qt(S));var We=S[S.length-1],Be=S[0],Ze=x&&!w&&(!T||S.length<3),ut=m.exports.useMemo(function(){return Ze&&(Ct(x)||ie(x))?Ct(x)?Do([],Ee(x),!1):[De({},x),De({},x)]:[]},[Ze,x]),q=a("slider"),Oe=m.exports.useRef(null),tt=m.exports.useRef({left:0,height:0,top:0,width:0}),ge=m.exports.useRef(!1),He=m.exports.useRef(0);function Pe(N){var k=qt(N);return T?k:k[k.length-1]}function ft(N){var k=N.map(function(D){return I(D)});return fe.current=k,k}function me(N,k){var D=ft(N),j=Pe(D);F(j),k==="inputValueChange"?$e.current=D.some(function($,ne){return $>D[ne]}):$e.current=!1,W(c.onChange)&&c.onChange(j)}function be(){if(W(c.onAfterChange)){var N=Pe(fe.current);c.onAfterChange(N)}}function Y(N){var k,D=Ee([S[0],S[S.length-1]],2),j=D[0],$=D[1];return j>$&&(k=Ee([$,j],2),j=k[0],$=k[1]),T?N>=j&&N<=$:N<=$}function Re(N,k){var D=tt.current,j=D.left,$=D.top,ne=D.width,ae=D.height,Q=ne,ye=V?j+ne-N:N-j;if(O&&(Q=ae,ye=V?k-$:$+ae-k),Q<=0)return 0;var E=Math.max(St(ye,Q),0);E=Math.min(1,E);var Z=X.find(function(mr){return E>=mr.beginOffset&&E<=mr.endOffset}),ve=Z.begin,we=Z.beginOffset,he=Z.step,nt=Z.endOffset,dn=Z.end,pn=E-we,vn=nt-we,hn=pn/vn*(dn-ve),gn=Math.round(hn/he);return Qe(ve,ce(gn,he))}function dt(N){var k,D,j,$=Ee(N,2),ne=$[0],ae=$[1];ne>ae&&(k=Ee([ae,ne],2),ne=k[0],ae=k[1]);var Q=Fe(ne),ye=Fe(1-ae);return O?(D={},D[V?"top":"bottom"]=Q,D[V?"bottom":"top"]=ye,D):(j={},j[V?"right":"left"]=Q,j[V?"left":"right"]=ye,j)}function kt(N){var k,D;return O?(k={},k[V?"top":"bottom"]=Fe(N),k):(D={},D[V?"right":"left"]=Fe(N),D)}function Nt(){var N={getTooltipContainer:c.getTooltipContainer,formatTooltip:c.formatTooltip};return"tooltipPosition"in c&&(N.tooltipPosition=p),"tooltipVisible"in c&&(N.tooltipVisible=h),N}function pt(){tt.current=Oe.current.getBoundingClientRect()}function Se(N){pt();var k=Re(N.clientX,N.clientY);G.draggableBar&&Y(k)?(He.current=I(k),ke(window,"mousemove",vt),ke(window,"mouseup",Ge)):qe(k)}function qe(N){if(!f){var k=I(N),D=Ee(bo(k,S),2),j=D[0],$=D[1],ne=S[j],ae=S[$],Q=S.slice(0);T&&ae-k>k-ne?(Q[j]=k,me(Q,"jumpToClick")):(Q[$]=k,me(Q,"jumpToClick")),be()}}function rt(N){me(N,"inputValueChange"),be()}function It(N,k,D){ge.current=!0;var j=S.slice(0);j[D]=Re(N,k),me(j,"mousemove")}function Dt(){ge.current=!1,be()}function Tt(N,k){if(!f){var D=S.slice(0);D[k]=xe(S[k],N),me(D)}}function vt(N){var k=I(Re(N.clientX,N.clientY)),D=k-He.current,j=S.map(function($){return $+D});j.every(function($){return B($)})&&me(j,"mousemove")}function Ge(){Ne(window,"mousemove",vt),Ne(window,"mouseup",Ge),be()}return d("div",{...De({},ar(M,["defaultValue","value","onChange","getTooltipContainer","formatTooltip","onAfterChange"]),{className:oe(q,(e={},e[q+"-vertical"]=O,e[q+"-with-marks"]=b,e[q+"-reverse"]=V,e[q+"-rtl"]=s,e),l),style:u,ref:o}),children:A("div",{className:q+"-wrapper",children:[A("div",{ref:Oe,className:oe(q+"-road",(r={},r[q+"-road-disabled"]=f,r[q+"-road-vertical"]=O,r)),onMouseDown:Se,children:[d("div",{className:q+"-bar",style:dt([Ye(Be,X),Ye(We,X)])}),_&&d(Ro,{intervalConfigs:X,min:v,max:C,valueRange:[Be,We],prefixCls:q,vertical:O,reverse:V}),d(xo,{data:re,intervalConfigs:X,valueRange:[Be,We],vertical:O,prefixCls:q,reverse:V,onMouseDown:qe}),d(wo,{data:re,intervalConfigs:X,vertical:O,prefixCls:q,reverse:V,onMouseDown:qe}),S.map(function(N,k){return!T&&k!==S.length-1?null:d(fo,{...De({key:k,style:kt(Ye(N,X)),disabled:f,prefixCls:q,value:N,maxValue:C,minValue:v,vertical:O},Nt(),{onMoveBegin:pt,onMoving:function(D,j){return It(D,j,k)},onMoveEnd:Dt,onArrowEvent:function(D){return Tt(D,k)}})})})]}),Ze&&d(Po,{min:v,max:C,step:g,value:S,range:T,disabled:f,prefixCls:q,onChange:rt,extra:ut})]})})}var Qr=m.exports.forwardRef(Mo);Qr.displayName="Slider";var Fo=m.exports.memo(Qr),U={init:"init",uploading:"uploading",success:"done",fail:"error"};function xr(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function _r(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?xr(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xr(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function jo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=_r(_r({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-upload")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,d("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:d("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"})})}var lr=L.forwardRef(jo);lr.defaultProps={isIcon:!0};lr.displayName="IconUpload";var cr=lr;function Or(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function Pr(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Or(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Or(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Lo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=Pr(Pr({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-play-arrow-fill")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,d("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:d("path",{fill:"currentColor",stroke:"none",d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z"})})}var ur=L.forwardRef(Lo);ur.defaultProps={isIcon:!0};ur.displayName="IconPlayArrowFill";var Ao=ur;function Rr(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function Sr(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Rr(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Rr(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Uo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=Sr(Sr({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-pause")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,A("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[d("path",{d:"M14 12H18V36H14z"}),d("path",{d:"M30 12H34V36H30z"}),d("path",{fill:"currentColor",stroke:"none",d:"M14 12H18V36H14z"}),d("path",{fill:"currentColor",stroke:"none",d:"M30 12H34V36H30z"})]})}var fr=L.forwardRef(Uo);fr.defaultProps={isIcon:!0};fr.displayName="IconPause";var Vo=fr,Xe=globalThis&&globalThis.__assign||function(){return Xe=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Xe.apply(this,arguments)},zo=function(t){var o=ct(),e=t.file,r=t.prefixCls,n=t.progressProps,a=t.progressRender,i=m.exports.useContext(Ae).locale,s=e.status,c=e.percent,l=c===void 0?0:c,u=r+"-list",h=n&&n.width?{width:n.width}:{},p=A(Je,{children:[s===U.fail&&t.reuploadIcon!==null&&d("span",{...Xe({className:r+"-list-reupload-icon",onClick:function(){t.onReupload&&t.onReupload(e)},tabIndex:0,role:"button","aria-label":i.Upload.reupload},o({onPressEnter:function(){t.onReupload&&t.onReupload(e)}})),children:t.reuploadIcon||(t.listType==="picture-card"?d(cr,{}):i.Upload.reupload)}),s===U.success&&t.successIcon!==null&&d("span",{className:r+"-list-success-icon",children:t.successIcon||d(An,{})}),s!==U.success&&A("div",{className:u+"-status",style:h,children:[d(Hn,{...Xe({showText:!1,className:u+"-progress",type:"circle",status:s===U.fail?"error":s===U.success?"success":"normal",percent:l,size:"mini"},n)}),s===U.init&&t.startIcon!==null&&d("span",{...Xe({tabIndex:0,role:"button","aria-label":i.Upload.start,className:r+"-list-start-icon",onClick:function(){t.onUpload&&t.onUpload(e)}},o({onPressEnter:function(){t.onUpload&&t.onUpload(e)}})),children:t.startIcon||d($t,{content:i.Upload.start,children:d(Ao,{})})}),s===U.uploading&&t.cancelIcon!==null&&d("span",{...Xe({className:t.prefixCls+"-list-cancel-icon",onClick:function(){t.onAbort&&t.onAbort(e)},tabIndex:0,"aria-label":i.Upload.cancel},o({onPressEnter:function(){t.onAbort&&t.onAbort(e)}})),children:t.cancelIcon||d($t,{content:i.Upload.cancel,children:d(Vo,{})})})]})]});return W(a)?a(e,p):p},en=zo,Ke=globalThis&&globalThis.__assign||function(){return Ke=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ke.apply(this,arguments)},$o=function(t,o){var e=t.disabled,r=t.prefixCls,n=t.file,a=t.showUploadList,i=t.locale,s=ct(),c=r+"-list-item-picture",l=n.status,u=n.originFile,h=n.url!==void 0?n.url:u&&W(URL.createObjectURL)&&URL.createObjectURL(u),p=ie(a)?a:{};return d("div",{className:c,ref:o,children:l===U.uploading?d(en,{...Ke({onReupload:t.onReupload,onUpload:t.onUpload,onAbort:t.onAbort,listType:"picture-card",file:n,prefixCls:r,progressProps:t.progressProps},p)}):A(Je,{children:[W(p.imageRender)?p.imageRender(n):d("img",{src:h,alt:n.name}),A("div",{className:c+"-mask",role:"radiogroup",children:[n.status===U.fail&&d("div",{className:c+"-error-tip",children:p.errorIcon!==null&&d("span",{className:r+"-list-error-icon",children:p.errorIcon||d(qn,{})})}),A("div",{className:c+"-operation",children:[n.status!==U.fail&&p.previewIcon!==null&&d("span",{...Ke({className:r+"-list-preview-icon",tabIndex:0,role:"button","aria-label":i.Upload.preview},s({onPressEnter:function(){t.onPreview&&t.onPreview(n)}}),{onClick:function(){t.onPreview&&t.onPreview(n)}}),children:p.previewIcon||d(Un,{})}),n.status===U.fail&&p.reuploadIcon!==null&&d("span",{...Ke({className:t.prefixCls+"-list-reupload-icon",onClick:function(){t.onReupload&&t.onReupload(n)},tabIndex:0,role:"button","aria-label":i.Upload.reupload},s({onPressEnter:function(){t.onReupload&&t.onReupload(n)}})),children:p.reuploadIcon||d(cr,{})}),!e&&p.removeIcon!==null&&d("span",{...Ke({className:r+"-list-remove-icon",onClick:function(){t.onRemove&&t.onRemove(n)},role:"button","aria-label":i.Upload.delete,tabIndex:0},s({onPressEnter:function(){t.onRemove&&t.onRemove(n)}})),children:p.removeIcon||d(Xr,{})})]})]})]})})},Wo=m.exports.forwardRef($o);function Er(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function kr(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Er(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Er(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Bo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=kr(kr({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-file-pdf")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,A("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[d("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"}),d("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"})]})}var dr=L.forwardRef(Bo);dr.defaultProps={isIcon:!0};dr.displayName="IconFilePdf";var Zo=dr;function Nr(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function Ir(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Nr(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Nr(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Ho(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=Ir(Ir({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-file-image")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,d("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:d("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"})})}var pr=L.forwardRef(Ho);pr.defaultProps={isIcon:!0};pr.displayName="IconFileImage";var tn=pr;function Dr(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function Tr(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Dr(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Dr(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function qo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=Tr(Tr({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-file-video")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,A("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[d("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"}),d("path",{d:"M22 27.796v-6l5 3-5 3Z"})]})}var vr=L.forwardRef(qo);vr.defaultProps={isIcon:!0};vr.displayName="IconFileVideo";var Go=vr;function Mr(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function Fr(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Mr(Object(e),!0).forEach(function(r){Ve(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Mr(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Xo(t,o){var e=m.exports.useContext(Ue),r=e.prefixCls,n=r===void 0?"arco":r,a=t.spin,i=t.className,s=Fr(Fr({"aria-hidden":!0,focusable:!1,ref:o},t),{},{className:"".concat(i?i+" ":"").concat(n,"-icon ").concat(n,"-icon-file-audio")});return a&&(s.className="".concat(s.className," ").concat(n,"-icon-loading")),delete s.spin,delete s.isIcon,A("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[d("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"}),d("path",{fill:"currentColor",stroke:"none",d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),d("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"})]})}var hr=L.forwardRef(Xo);hr.defaultProps={isIcon:!0};hr.displayName="IconFileAudio";var Ko=hr,at=globalThis&&globalThis.__assign||function(){return at=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},at.apply(this,arguments)},Yo=function(t){var o="";if(t.originFile&&t.originFile.type)o=t.originFile.type;else{var e=t.name||"",r=e.split(".").pop()||"";o=r,["png","jpg","jpeg","bmp","gif"].indexOf(r)>-1?o="image":["mp4","m2v","mkv"].indexOf(r)>-1?o="video":["mp3","wav","wmv"].indexOf(r)>-1&&(o="audio")}return o.indexOf("image")>-1?tn:o.indexOf("pdf")>-1?Zo:o.indexOf("audio")>-1?Ko:o.indexOf("video")>-1?Go:Vn},Jo=function(t,o){var e=t.prefixCls,r=t.disabled,n=t.file,a=t.locale,i=e+"-list-item-text",s=ct(),c=Yo(n),l=ie(t.showUploadList)?t.showUploadList:{},u=ie(l)?l:{},h=n.name||n.originFile&&n.originFile.name,p=n.url!==void 0?n.url:n.originFile&&W(URL.createObjectURL)&&URL.createObjectURL(n.originFile),f={};return n.status!==U.fail&&(f={popupVisible:!1}),A("div",{className:e+"-list-item "+e+"-list-item-"+n.status,ref:o,children:[A("div",{className:i,children:[t.listType==="picture-list"&&d("div",{className:i+"-thumbnail",children:W(l.imageRender)?l.imageRender(n):d("img",{src:p})}),A("div",{className:i+"-content",children:[A("div",{className:i+"-name",children:[t.listType==="text"&&u.fileIcon!==null&&d("span",{className:e+"-list-file-icon",children:u.fileIcon||d(c,{})}),W(l.fileName)?d("span",{className:i+"-name-text",children:l.fileName(n)}):n.url?d("a",{href:n.url,target:"_blank",rel:"noreferrer",className:i+"-name-link",children:h}):d("span",{className:i+"-name-text",children:h}),n.status===U.fail&&u.errorIcon!==null&&d($t,{...at({content:(typeof n.response=="object"?m.exports.isValidElement(n.response)&&n.response:n.response)||a.Upload.error},f,{disabled:n.status!==U.fail}),children:d("span",{className:t.prefixCls+"-list-error-icon",children:u.errorIcon||(t.listType==="picture-card"?d(tn,{}):d(zt,{}))})})]}),d(en,{...at({file:n,prefixCls:e,progressProps:t.progressProps,onReupload:t.onReupload,onUpload:t.onUpload,onAbort:t.onAbort},u)})]})]}),d("div",{className:e+"-list-item-operation",children:!r&&u.removeIcon!==null&&d(qr,{...at({className:e+"-list-remove-icon-hover",onClick:function(){t.onRemove&&t.onRemove(n)},tabIndex:0,"aria-label":a.Upload.delete},s({onPressEnter:function(){t.onRemove&&t.onRemove(n)}})),children:d("span",{className:e+"-list-remove-icon",children:u.removeIcon||d(Xr,{})})})})]})},Qo=m.exports.forwardRef(Jo),Ot=globalThis&&globalThis.__assign||function(){return Ot=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ot.apply(this,arguments)},ea=globalThis&&globalThis.__rest||function(t,o){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e},ta=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},rn=function(t){var o,e=m.exports.useContext(Ae),r=e.locale,n=e.rtl,a=t.listType,i=t.fileList,s=t.renderUploadList,c=t.renderUploadItem,l=t.prefixCls,u=ea(t,["listType","fileList","renderUploadList","renderUploadItem","prefixCls"]),h=ta(m.exports.useState(-1),2),p=h[0],f=h[1],v=m.exports.useMemo(function(){return i.map(function(y){var g=y.url;return y.url===void 0&&[U.init,U.success].indexOf(y.status)>-1&&(g=y.originFile&&W(URL.createObjectURL)&&URL.createObjectURL(y.originFile)),g}).filter(Boolean)},[i]);if(W(s))return d("div",{className:l+"-list",children:s(i,u)});var C=function(y){t.imagePreview&&f(y)};return A(Je,{children:[d(zn,{className:oe(l+"-list",l+"-list-type-"+a,(o={},o[l+"-list-rtl"]=n,o)),children:i.map(function(y,g){var _=a==="picture-card"?d("div",{className:l+"-list-item "+l+"-list-item-"+y.status,children:d(Wo,{...Ot({},t,{onPreview:function(b){var w;C(g),(w=t.onPreview)===null||w===void 0||w.call(t,b)},file:y,locale:r})})}):d(Qo,{...Ot({},t,{file:y,locale:r})});return W(c)&&(_=c(_,y,i)),a==="picture-card"?d(it,{timeout:{enter:200,exit:400},classNames:l+"-slide-inline",onEntered:function(b){!b||(b.style.width="")},onExit:function(b){!b||(b.style.width=b.scrollWidth+"px")},onExiting:function(b){!b||(b.style.width=0)},onExited:function(b){!b||(b.style.width=0)},children:_},y.uid):d(it,{timeout:{enter:200,exit:400},classNames:l+"-slide-up",onExit:function(b){!b||(b.style.height=b.scrollHeight+"px")},onExiting:function(b){!b||(b.style.height=0)},onExited:function(b){!b||(b.style.height=0)},children:_},y.uid)})}),a==="picture-card"&&t.imagePreview&&d(Gn,{srcList:v,visible:p!==-1,current:p,onChange:C,onVisibleChange:function(y){C(y?p:-1)}})]})};rn.displayName="FileList";var ra=rn;function jr(t){var o=t.responseText||t.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}var na=function(t){var o=t.onProgress,e=o===void 0?Mt:o,r=t.onError,n=r===void 0?Mt:r,a=t.onSuccess,i=a===void 0?Mt:a,s=t.action,c=t.method,l=t.headers,u=l===void 0?{}:l,h=t.name,p=t.file,f=t.data,v=f===void 0?{}:f,C=t.withCredentials,y=C===void 0?!1:C;function g(P){return typeof P=="function"?P(p):P}var _=g(h),b=g(v),w=new XMLHttpRequest;e&&w.upload&&(w.upload.onprogress=function(P){var R;P.total>0&&(R=P.loaded/P.total*100),e(parseInt(R,10),P)}),w.onerror=function(R){n(R)},w.onload=function(){if(w.status<200||w.status>=300)return n(jr(w));i(jr(w))};var O=new FormData;b&&Object.keys(b).map(function(P){return O.append(P,b[P])}),O.append(_||"file",p),w.open(c,s,!0),y&&"withCredentials"in w&&(w.withCredentials=!0);for(var x in u)u.hasOwnProperty(x)&&u[x]!==null&&w.setRequestHeader(x,u[x]);return w.send(O),{abort:function(){w.abort()}}},oa=na,gr=function(t,o){var e=ie(o)?o==null?void 0:o.type:o,r=!(ie(o)&&o.strict===!1);if(r&&e&&t){var n=Ct(e)?e:e.split(",").map(function(i){return i.trim()}).filter(function(i){return i}),a=(t.name.indexOf(".")>-1?"."+t.name.split(".").pop():"").toLowerCase();return n.some(function(i){var s=i&&i.toLowerCase(),c=(t.type||"").toLowerCase(),l=c.split("/")[0];if(s===c||""+l+a.replace(".","/")===s||/^\*(\/\*)?$/.test(s))return!0;if(/\/\*/.test(s))return c.replace(/\/.*$/,"")===s.replace(/\/.*$/,"");if(/\..*/.test(s)){var u=[s];return(s===".jpg"||s===".jpeg")&&(u=[".jpg",".jpeg"]),u.indexOf(a)>-1}return!1})}return!!t},aa=function(t,o){if(!!t){var e=[].slice.call(t);return o&&(e=e.filter(function(r){return gr(r,o)})),e}},ia=function(t,o,e){var r=[],n=0,a=function(){!n&&e(r)},i=function(c){if(n+=1,c!=null&&c.isFile){c.file(function(p){n-=1,gr(p,o)&&(Object.defineProperty(p,"webkitRelativePath",{value:c.fullPath.replace(/^\//,"")}),r.push(p)),a()});return}if(c!=null&&c.isDirectory){var l=c.createReader(),u=!1,h=function(){l.readEntries(function(p){u||(n-=1,u=!0),p.length===0?a():(h(),p.forEach(i))})};h();return}n-=1,a()},s=[].slice.call(t);s.forEach(function(c){c.webkitGetAsEntry&&i(c.webkitGetAsEntry())})},Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Pt.apply(this,arguments)},Ut=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},Lr=globalThis&&globalThis.__spreadArray||function(t,o,e){if(e||arguments.length===2)for(var r=0,n=o.length,a;r<n;r++)(a||!(r in o))&&(a||(a=Array.prototype.slice.call(o,0,r)),a[r]=o[r]);return t.concat(a||Array.prototype.slice.call(o))},sa=function(t,o){var e,r,n=ct(),a=m.exports.useContext(Ae).locale,i=Ut(m.exports.useState(!1),2),s=i[0],c=i[1],l=Ut(m.exports.useState(0),2),u=l[0],h=l[1],p=t.tip,f=t.children,v=t.disabled,C=t.drag,y=t.listType,g=t.prefixCls,_=t.accept,b=t.multiple,w={disabled:v};return m.exports.useEffect(function(){h(0)},[s]),f===null?null:d("div",{...Pt({className:g+"-trigger",onClick:v?void 0:t.onClick},n({onPressEnter:function(){var O;!v&&((O=t.onClick)===null||O===void 0||O.call(t))}}),{ref:o,onDragEnter:function(){h(u+1)},onDragLeave:function(O){var x;O.preventDefault(),u===0?(c(!1),!v&&((x=t.onDragLeave)===null||x===void 0||x.call(t,O))):h(u-1)},onDrop:function(O){if(O.preventDefault(),!v&&t.drag!==!1){if(c(!1),t.directory)ia(O.dataTransfer.items,_,function(M){t.onDragFiles&&t.onDragFiles(M)});else{var x=[].slice.call(O.dataTransfer.items||[]).reduce(function(M,T,G){if(T.webkitGetAsEntry){var V=T.webkitGetAsEntry();return V!=null&&V.isDirectory?Lr(Lr([],Ut(M),!1),[G],!1):M}},[]),P=[].slice.call(O.dataTransfer.files||[]).filter(function(M,T){return!x.includes(T)}),R=aa(P,_);R.length>0&&t.onDragFiles&&t.onDragFiles(b?R:R.slice(0,1))}t.onDrop&&t.onDrop(O)}},onDragOver:function(O){var x;O.preventDefault(),!v&&!s&&(c(!0),(x=t.onDragOver)===null||x===void 0||x.call(t,O))}}),children:L.isValidElement(f)?d("div",{className:oe((e={},e[g+"-trigger-custom-active"]=s,e)),children:L.cloneElement(f,w)}):y==="picture-card"?d("div",{className:g+"-trigger-picture-wrapper",children:d("div",{className:g+"-trigger-picture",tabIndex:0,"aria-label":a.Upload.upload,children:d("div",{className:g+"-trigger-picture-text",children:d(Wt,{})})})}):C?A("div",{className:oe(g+"-trigger-drag",(r={},r[g+"-trigger-drag-active"]=s,r)),tabIndex:0,"aria-label":a.Upload.drag,children:[d(Wt,{}),d("p",{className:g+"-trigger-drag-text",children:s?a.Upload.dragHover:a.Upload.drag}),p&&d("div",{className:g+"-trigger-tip",children:p})]}):A(st,{...Pt({},w,{"aria-label":a.Upload.upload,type:"primary",className:g+"-trigger-with-icon"}),children:[d(cr,{}),a.Upload.upload]})})},la=m.exports.forwardRef(sa),ca=globalThis&&globalThis.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},t(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(o,e);function r(){this.constructor=o}o.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),te=globalThis&&globalThis.__assign||function(){return te=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},te.apply(this,arguments)},ua=globalThis&&globalThis.__awaiter||function(t,o,e,r){function n(a){return a instanceof e?a:new e(function(i){i(a)})}return new(e||(e=Promise))(function(a,i){function s(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?a(u.value):n(u.value).then(s,c)}l((r=r.apply(t,o||[])).next())})},fa=globalThis&&globalThis.__generator||function(t,o){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(a=l[0]&2?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,n=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(l[0]===6&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=o.call(t,e)}catch(u){l=[6,u],n=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},da=function(t){ca(o,t);function o(e){var r=t.call(this,e)||this;return r.upload=function(n){r.doUpload(n)},r.abort=function(n){var a=r.state.uploadRequests[n.uid];a&&(a.abort&&a.abort(),r.updateFileStatus(te(te({},n),{status:U.fail})),r.deleteReq(n.uid))},r.reupload=function(n){r.doUpload(te(te({},n),{percent:0,status:U.uploading}))},r.deleteReq=function(n){var a=te({},r.state.uploadRequests);delete a[n],r.setState({uploadRequests:a})},r.delete=r.deleteReq,r.updateFileStatus=function(n,a){a===void 0&&(a=r.props.fileList);var i=r.props.onFileStatusChange,s="uid"in n?"uid":"name";i&&i(a.map(function(c){return c[s]===n[s]?n:c}),n)},r.getTargetFile=function(n){var a="uid"in n?"uid":"name",i=r.props.fileList.find(function(s){return s[a]===n[a]});return i},r.doUpload=function(n){return ua(r,void 0,void 0,function(){var a,i,s,c,l,u,h,p,f,v,C,y,g,_,b=this;return fa(this,function(w){switch(w.label){case 0:return a=this.props,i=a.action,s=a.headers,c=a.name,l=a.data,u=a.withCredentials,h=a.customRequest,p=a.method,f=function(O,x){var P=b.getTargetFile(n);P&&(P.status=U.uploading,P.percent=O,b.props.onProgress&&b.props.onProgress(P,x))},v=function(O){var x=b.getTargetFile(n);x&&(x.status=U.success,x.response=O,b.updateFileStatus(x)),b.deleteReq(n.uid)},C=function(O){var x=b.getTargetFile(n);x&&(x.status=U.fail,x.response=O,b.updateFileStatus(x)),b.deleteReq(n.uid)},y={onProgress:f,onSuccess:v,onError:C,headers:s,name:c,file:n.originFile,data:l,withCredentials:u},this.updateFileStatus(n),i?(g=oa(te(te({},y),{action:i,method:p})),[3,3]):[3,1];case 1:return h?[4,h(y)]:[3,3];case 2:g=w.sent(),w.label=3;case 3:return this.setState({uploadRequests:te(te({},this.state.uploadRequests),(_={},_[n.uid]=g,_))}),[2]}})})},r.handleFiles=function(n){var a=r.props,i=a.limit,s=a.fileList,c=a.onExceedLimit,l=a.autoUpload;if(je(i)&&i<s.length+n.length)return c&&c(n,s);var u=function(h,p){var f=r.props.fileList||[],v={uid:""+String(+new Date)+p,originFile:h,percent:0,status:U.init,name:h.name};f.push(v),r.updateFileStatus(v,f),l&&setTimeout(function(){r.doUpload(te(te({},v),{status:U.uploading}))},0)};n.forEach(function(h,p){gr(h,r.props.accept)&&(W(r.props.beforeUpload)?Promise.resolve(r.props.beforeUpload(h,n)).then(function(f){if(f!==!1){var v=$n(f)?f:h;u(v,p)}}).catch(function(f){console.error(f)}):u(h,p))})},r.state={uploadRequests:{}},r}return o.prototype.render=function(){var e=this,r=this.props,n=r.accept,a=r.multiple,i=r.children,s=r.prefixCls,c=r.tip,l=r.disabled,u=r.drag,h=r.listType,p=r.hide,f=r.directory,v=r.onDrop,C=r.onDragOver,y=r.onDragLeave;return L.createElement(L.Fragment,null,L.createElement("input",te({key:"trigger-input",ref:function(g){return e.inputRef=g},style:{display:"none"},type:"file",accept:ie(n)?n==null?void 0:n.type:n,multiple:a},f?{webkitdirectory:"true"}:{},{onChange:function(g){var _=g.target.files;_&&(e.handleFiles([].slice.call(_)),e.inputRef.value="")},onClick:function(g){g.stopPropagation()}})),L.createElement(it,{key:"trigger-node",in:!p,timeout:100,unmountOnExit:!0,classNames:"fadeIn"},L.createElement(la,{directory:f,tip:c,multiple:a,accept:n,disabled:l,drag:u,listType:h,onDrop:v,onDragOver:C,onDragLeave:y,onDragFiles:this.handleFiles,onClick:function(){!l&&e.inputRef&&e.inputRef.click()},prefixCls:s},W(i)?i({fileList:this.props.fileList}):i)),c&&h!=="picture-card"&&!u?L.createElement("div",{key:"trigger-tip",className:s+"-trigger-tip"},c):null)},o}(L.Component),pa=da,Le=globalThis&&globalThis.__assign||function(){return Le=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Le.apply(this,arguments)},va=globalThis&&globalThis.__rest||function(t,o){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e},ha=globalThis&&globalThis.__read||function(t,o){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),n,a=[],i;try{for(;(o===void 0||o-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return a},Vt=function(t){var o=[].concat(t||[]).filter(Boolean);return o.reduce(function(e,r,n){if(r.uid){var a=o.findIndex(function(c){return r.uid===c.uid&&r!==c}),i=Le({status:U.success,percent:100},r);a===-1?e.push(i):e.splice(a,1,i)}else{var s=""+String(+new Date)+n;e.push(Le({uid:s,status:U.success,percent:100},r))}return e},[])},ga={listType:"text",autoUpload:!0,showUploadList:!0,beforeUpload:function(){return!0},method:"post"},ma=function(t,o){var e,r=m.exports.useContext(Ae),n=r.getPrefixCls,a=r.componentConfig,i=r.rtl,s=nr(t,ga,a==null?void 0:a.Upload),c=n("upload"),l=m.exports.useRef(),u=m.exports.useRef(),h=ha(m.exports.useState(function(){return"fileList"in s?Vt(s.fileList):"defaultFileList"in s?Vt(s.defaultFileList):[]}),2),p=h[0],f=h[1],v="fileList"in s?Vt(s.fileList):p,C=function(I,z){var B;"fileList"in s||f(I),(B=s.onChange)===null||B===void 0||B.call(s,I,z)},y=function(I){I&&setTimeout(function(){l.current&&l.current.upload(I)},0)},g=function(I){l.current&&l.current.reupload(I),s.onReupload&&s.onReupload(I)},_=function(I){if(I){var z=s.onRemove;Promise.resolve(W(z)?z(I,v):z).then(function(B){B!==!1&&(l.current&&l.current.abort(I),C(v.filter(function(xe){return xe.uid!==I.uid}),I))}).catch(function(B){console.error(B)})}},b=function(I){I&&l.current&&l.current.abort(I)};m.exports.useImperativeHandle(o,function(){return{submit:function(I){var z=[];I?z=[I]:z=v.filter(function(B){return B.status===U.init}),z.forEach(function(B){y(B)})},abort:function(I){b(I)},reupload:function(I){g(I)},getRootDOMNode:function(){return u.current}}});var w=s.listType,O=s.className,x=s.style,P=s.renderUploadItem,R=s.showUploadList,M=s.renderUploadList,T=s.progressProps,G=s.imagePreview,V=va(s,["listType","className","style","renderUploadItem","showUploadList","renderUploadList","progressProps","imagePreview"]),H=je(s.limit)?{hideOnExceedLimit:!0,maxCount:s.limit}:Le({hideOnExceedLimit:!0},s.limit),X=H.maxCount&&H.maxCount<=v.length,re="disabled"in s?s.disabled:!H.hideOnExceedLimit&&X,K=d("div",{...Le({},ar(V,["disabled","directory","onReupload","defaultFileList","fileList","autoUpload","error","action","method","multiple","name","accept","customRequest","children","autoUpload","limit","drag","tip","headers","data","withCredentials","onChange","onPreview","onRemove","onProgress","onExceedLimit","beforeUpload","onDrop","onDragOver","onDragLeave"]),{className:oe(c,(e={},e[c+"-type-"+w]=w,e[c+"-drag"]=s.drag,e[c+"-disabled"]=re,e[c+"-hide"]=H.hideOnExceedLimit&&X,e[c+"-rtl"]=i,e),O),style:x,ref:u}),children:d(pa,{...Le({ref:l},s,{limit:H.maxCount,hide:H.hideOnExceedLimit&&X,disabled:re,prefixCls:c,fileList:v,onProgress:function(I,z){I&&("fileList"in s||f(v.map(function(B){return B.uid===I.uid?I:B})),s.onProgress&&s.onProgress(I,z))},onFileStatusChange:C})})});return A(Je,{children:[w!=="picture-card"&&K,R&&d(ra,{imagePreview:G,progressProps:T,showUploadList:R,disabled:s.disabled,listType:w,fileList:v,renderUploadItem:P,renderUploadList:M,onUpload:y,onAbort:b,onRemove:_,onReupload:g,onPreview:s.onPreview,prefixCls:c}),w==="picture-card"&&K,s.tip&&w==="picture-card"&&d("div",{className:c+"-trigger-tip",children:s.tip})]})},nn=m.exports.forwardRef(ma);nn.displayName="Upload";var ba=nn;function ya(){return Gr({url:"/object-storage/signature/get",method:"post"})}function wa(){return Gr({url:"/object-storage/signature/get-private",method:"post"})}function Ca(){return"/api/upload/image"}var Ar=!1,Te,Xt,Kt,bt,yt,on,wt,Yt,Jt,Qt,an,er,tr,sn,ln;function ee(){if(!Ar){Ar=!0;var t=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(er=/\b(iPhone|iP[ao]d)/.exec(t),tr=/\b(iP[ao]d)/.exec(t),Qt=/Android/i.exec(t),sn=/FBAN\/\w+;/i.exec(t),ln=/Mobile/i.exec(t),an=!!/Win64/.exec(t),o){Te=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,Te&&document&&document.documentMode&&(Te=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);on=r?parseFloat(r[1])+4:Te,Xt=o[2]?parseFloat(o[2]):NaN,Kt=o[3]?parseFloat(o[3]):NaN,bt=o[4]?parseFloat(o[4]):NaN,bt?(o=/(?:Chrome\/(\d+\.\d+))/.exec(t),yt=o&&o[1]?parseFloat(o[1]):NaN):yt=NaN}else Te=Xt=Kt=yt=bt=NaN;if(e){if(e[1]){var n=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);wt=n?parseFloat(n[1].replace("_",".")):!0}else wt=!1;Yt=!!e[2],Jt=!!e[3]}else wt=Yt=Jt=!1}}var rr={ie:function(){return ee()||Te},ieCompatibilityMode:function(){return ee()||on>Te},ie64:function(){return rr.ie()&&an},firefox:function(){return ee()||Xt},opera:function(){return ee()||Kt},webkit:function(){return ee()||bt},safari:function(){return rr.webkit()},chrome:function(){return ee()||yt},windows:function(){return ee()||Yt},osx:function(){return ee()||wt},linux:function(){return ee()||Jt},iphone:function(){return ee()||er},mobile:function(){return ee()||er||tr||Qt||ln},nativeApp:function(){return ee()||sn},android:function(){return ee()||Qt},ipad:function(){return ee()||tr}},xa=rr,gt=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_a={canUseDOM:gt,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:gt&&!!(window.addEventListener||window.attachEvent),canUseViewport:gt&&!!window.screen,isInWorker:!gt},Oa=_a,cn=Oa,un;cn.canUseDOM&&(un=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Pa(t,o){if(!cn.canUseDOM||o&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var n=document.createElement("div");n.setAttribute(e,"return;"),r=typeof n[e]=="function"}return!r&&un&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Ra=Pa,Sa=xa,Ea=Ra,Ur=10,Vr=40,zr=800;function fn(t){var o=0,e=0,r=0,n=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(o=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=e,e=0),r=o*Ur,n=e*Ur,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||n)&&t.deltaMode&&(t.deltaMode==1?(r*=Vr,n*=Vr):(r*=zr,n*=zr)),r&&!o&&(o=r<1?-1:1),n&&!e&&(e=n<1?-1:1),{spinX:o,spinY:e,pixelX:r,pixelY:n}}fn.getEventType=function(){return Sa.firefox()?"DOMMouseScroll":Ea("wheel")?"wheel":"mousewheel"};var ka=fn,Na=ka;function Ia(t,o,e,r,n,a){a===void 0&&(a=0);var i=et(t,o,a),s=i.width,c=i.height,l=Math.min(s,e),u=Math.min(c,r);return l>u*n?{width:u*n,height:u}:{width:l,height:l/n}}function Da(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function ot(t,o,e,r,n){n===void 0&&(n=0);var a=et(o.width,o.height,n),i=a.width,s=a.height;return{x:$r(t.x,i,e.width,r),y:$r(t.y,s,e.height,r)}}function $r(t,o,e,r){var n=o*r/2-e/2;return Et(t,-n,n)}function Wr(t,o){return Math.sqrt(Math.pow(t.y-o.y,2)+Math.pow(t.x-o.x,2))}function Br(t,o){return Math.atan2(o.y-t.y,o.x-t.x)*180/Math.PI}function Ta(t,o,e,r,n,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var s=i?Ma:Fa,c=et(o.width,o.height,a),l=et(o.naturalWidth,o.naturalHeight,a),u={x:s(100,((c.width-e.width/n)/2-t.x/n)/c.width*100),y:s(100,((c.height-e.height/n)/2-t.y/n)/c.height*100),width:s(100,e.width/c.width*100/n),height:s(100,e.height/c.height*100/n)},h=Math.round(s(l.width,u.width*l.width/100)),p=Math.round(s(l.height,u.height*l.height/100)),f=l.width>=l.height*r,v=f?{width:Math.round(p*r),height:p}:{width:h,height:Math.round(h/r)},C=J(J({},v),{x:Math.round(s(l.width-v.width,u.x*l.width/100)),y:Math.round(s(l.height-v.height,u.y*l.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:C}}function Ma(t,o){return Math.min(t,Math.max(0,o))}function Fa(t,o){return o}function ja(t,o,e,r,n,a){var i=et(o.width,o.height,e),s=Et(r.width/i.width*(100/t.width),n,a),c={x:s*i.width/2-r.width/2-i.width*s*(t.x/100),y:s*i.height/2-r.height/2-i.height*s*(t.y/100)};return{crop:c,zoom:s}}function La(t,o,e){var r=Da(o);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Aa(t,o,e,r,n,a){e===void 0&&(e=0);var i=et(o.naturalWidth,o.naturalHeight,e),s=Et(La(t,o,r),n,a),c=r.height>r.width?r.height/t.height:r.width/t.width,l={x:((i.width-t.width)/2-t.x)*c,y:((i.height-t.height)/2-t.y)*c};return{crop:l,zoom:s}}function Zr(t,o){return{x:(o.x+t.x)/2,y:(o.y+t.y)/2}}function Ua(t){return t*Math.PI/180}function et(t,o,e){var r=Ua(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*o),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*o)}}function Et(t,o,e){return Math.min(Math.max(t,o),e)}function mt(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Va=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,za=1,$a=3,Wa=1,Ba=function(t){Wn(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=m.exports.createRef(),e.imageRef=m.exports.createRef(),e.videoRef=m.exports.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document!="undefined"?document:null,e.currentWindow=typeof window!="undefined"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver=="undefined"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(n){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){!e.currentDoc||(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var n=ja(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=n.crop,i=n.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=Aa(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,i=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var r,n,a,i,s,c,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var u=e.containerRect.width/e.containerRect.height,h=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=e.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,p=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,f=l.offsetWidth<h||l.offsetHeight<p,v=h/p,C=void 0;if(f)switch(e.state.mediaObjectFit){default:case"contain":C=u>v?{width:e.containerRect.height*v,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/v};break;case"horizontal-cover":C={width:e.containerRect.width,height:e.containerRect.width/v};break;case"vertical-cover":C={width:e.containerRect.height*v,height:e.containerRect.height};break}else C={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=J(J({},C),{naturalWidth:h,naturalHeight:p}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var y=e.props.cropSize?e.props.cropSize:Ia(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==y.height||((c=e.state.cropSize)===null||c===void 0?void 0:c.width)!==y.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(y),e.setState({cropSize:y},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(y),y}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){!e.currentDoc||(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(o.getMousePoint(r))},e.onScroll=function(r){!e.currentDoc||(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){!e.currentDoc||(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(o.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(o.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){!e.currentDoc||(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var n=o.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,n,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+r.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var n,a,i=r.x,s=r.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=J({},e.props.crop),(a=(n=e.props).onInteractionStart)===null||a===void 0||a.call(n)},e.onDrag=function(r){var n=r.x,a=r.y;!e.currentWindow||(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(n===void 0||a===void 0)){var i=n-e.dragStartPosition.x,s=a-e.dragStartPosition.y,c={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?ot(c,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):c;e.props.onCropChange(l)}}))},e.onDragStopped=function(){var r,n;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(n=(r=e.props).onInteractionEnd)===null||n===void 0||n.call(r)},e.onWheel=function(r){if(!!e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var n=o.getMousePoint(r),a=Na(r).pixelY,i=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(i,n,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,c;return(c=(s=e.props).onInteractionStart)===null||c===void 0?void 0:c.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,c;return(c=(s=e.props).onInteractionEnd)===null||c===void 0?void 0:c.call(s)})},250)}},e.getPointOnContainer=function(r,n){var a=r.x,i=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-n.x),y:e.containerRect.height/2-(i-n.y)}},e.getPointOnMedia=function(r){var n=r.x,a=r.y,i=e.props,s=i.crop,c=i.zoom;return{x:(n+s.x)/c,y:(a+s.y)/c}},e.setNewZoom=function(r,n,a){var i=a===void 0?{}:a,s=i.shouldUpdatePosition,c=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var l=Et(r,e.props.minZoom,e.props.maxZoom);if(c){var u=e.getPointOnContainer(n,e.containerPosition),h=e.getPointOnMedia(u),p={x:h.x*l-u.x,y:h.y*l-u.y},f=e.props.restrictPosition?ot(p,e.mediaSize,e.state.cropSize,l,e.props.rotation):p;e.props.onCropChange(f)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?ot(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Ta(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(!!r){var n=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(n,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(n,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(!!r){var n=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(n,a)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var r=e.props.crop;if(e.isInitialized&&e.previousCropSize){var n=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(n){var a=e.state.cropSize.width/e.previousCropSize.width,i=e.state.cropSize.height/e.previousCropSize.height;r={x:e.props.crop.x*a,y:e.props.crop.y*i}}}var s=e.props.restrictPosition?ot(r,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):r;e.previousCropSize=e.state.cropSize,e.props.onCropChange(s),e.emitCropData()}},e.onKeyDown=function(r){var n,a,i=e.props,s=i.crop,c=i.onCropChange,l=i.keyboardStep,u=i.zoom,h=i.rotation,p=l;if(!!e.state.cropSize){r.shiftKey&&(p*=.2);var f=J({},s);switch(r.key){case"ArrowUp":f.y-=p,r.preventDefault();break;case"ArrowDown":f.y+=p,r.preventDefault();break;case"ArrowLeft":f.x-=p,r.preventDefault();break;case"ArrowRight":f.x+=p,r.preventDefault();break;default:return}e.props.restrictPosition&&(f=ot(f,e.mediaSize,e.state.cropSize,u,h)),r.repeat||(a=(n=e.props).onInteractionStart)===null||a===void 0||a.call(n),c(f)}},e.onKeyUp=function(r){var n,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(a=(n=e.props).onInteractionEnd)===null||a===void 0||a.call(n)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver=="undefined"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Va,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver=="undefined"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var r,n,a,i,s,c,l,u,h;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((n=this.props.cropSize)===null||n===void 0?void 0:n.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,r=e.cropSize,n=e.aspect;return r?r.width/r.height:n},o.prototype.getObjectFit=function(){var e,r,n,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,c=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,u=c/l;return u<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var r=o.getTouchPoint(e.touches[0]),n=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=Wr(r,n),this.lastPinchRotation=Br(r,n),this.onDragStart(Zr(r,n))},o.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var n=o.getTouchPoint(e.touches[0]),a=o.getTouchPoint(e.touches[1]),i=Zr(n,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=Wr(n,a),c=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(c,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var l=Br(n,a),u=r.props.rotation+(l-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=l})}},o.prototype.render=function(){var e=this,r,n=this.props,a=n.image,i=n.video,s=n.mediaProps,c=n.cropperProps,l=n.transform,u=n.crop,h=u.x,p=u.y,f=n.rotation,v=n.zoom,C=n.cropShape,y=n.showGrid,g=n.roundCropAreaPixels,_=n.style,b=_.containerStyle,w=_.cropAreaStyle,O=_.mediaStyle,x=n.classes,P=x.containerClassName,R=x.cropAreaClassName,M=x.mediaClassName,T=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return m.exports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(V){return e.containerRef=V},"data-testid":"container",style:b,className:mt("reactEasyCrop_Container",P)},a?m.exports.createElement("img",J({alt:"",className:mt("reactEasyCrop_Image",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},s,{src:a,ref:this.imageRef,style:J(J({},O),{transform:l||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):i&&m.exports.createElement("video",J({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:mt("reactEasyCrop_Video",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:J(J({},O),{transform:l||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(G){return m.exports.createElement("source",J({key:G.src},G))})),this.state.cropSize&&m.exports.createElement("div",J({ref:this.cropperRef,style:J(J({},w),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:mt("reactEasyCrop_CropArea",C==="round"&&"reactEasyCrop_CropAreaRound",y&&"reactEasyCrop_CropAreaGrid",R)},c)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:$a,minZoom:za,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Wa},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(m.exports.Component);async function Za(t,o,e=0){const r=await new Promise((c,l)=>{const u=new Image;u.addEventListener("load",()=>c(u)),u.addEventListener("error",h=>l(h)),u.src=t}),n=document.createElement("canvas"),a=n.getContext("2d");if(!a||!r)return null;const i=2*(Math.max(r.width,r.height)/2*Math.sqrt(2));n.width=i,n.height=i,e&&(a.translate(i/2,i/2),a.rotate(e*Math.PI/180),a.translate(-i/2,-i/2)),a.drawImage(r,i/2-r.width/2,i/2-r.height/2);const s=a.getImageData(0,0,i,i);return n.width=o.width,n.height=o.height,a.putImageData(s,Math.round(0-i/2+r.width*.5-o.x),Math.round(0-i/2+r.height*.5-o.y)),new Promise(c=>{n.toBlob(l=>{c(l)})})}const Ha=t=>{const{file:o,onOk:e}=t,[r,n]=m.exports.useState({x:0,y:0}),[a,i]=m.exports.useState(1),[s,c]=m.exports.useState(0),[l,u]=m.exports.useState(void 0),h=L.useMemo(()=>URL.createObjectURL(o),[o]);return A("div",{children:[d("div",{style:{width:"100%",height:280,position:"relative"},children:d(Ba,{style:{containerStyle:{width:"100%",height:280}},aspect:4/4,image:h,crop:r,zoom:a,rotation:s,onRotationChange:c,onCropComplete:(p,f)=>{u(f)},onCropChange:n,onZoomChange:i})}),A(Ft.Row,{justify:"space-between",style:{marginTop:20,marginBottom:20},children:[A(Ft.Row,{style:{flex:1,marginLeft:12,marginRight:12},children:[d(Bn,{style:{marginRight:10},onClick:()=>{i(Math.max(1,a-.1))}}),d(Fo,{style:{flex:1},step:.1,value:a,onChange:p=>{i(p)},min:.8,max:3}),d(Wt,{style:{marginLeft:10},onClick:()=>{i(Math.min(3,a+.1))}})]}),d(Xn,{onClick:()=>{c(s-90)}})]}),A(Ft.Row,{justify:"end",children:[d(st,{onClick:t.onCancel,style:{marginRight:20},children:"\u53D6\u6D88"}),d(st,{type:"primary",onClick:async()=>{const p=await Za(h||"",l,s);if(p){const f=new File([p],o.name||"image",{type:o.type||"image/*"});t.onOk(f)}},children:"\u786E\u5B9A"})]})]})};function Ya(t){const[o,e]=m.exports.useState("/"),[r,n]=m.exports.useState({}),{isPrivate:a,needRename:i,isOSS:s,isCrop:c,action:l,...u}=t,h=g=>{const _=g.split(".").pop();return`${Math.random().toString(36).substring(2,12)}${Zn().unix()}.${_}`},p=g=>{let _="";switch(g.type){case"image/png":case"image/jpg":case"image/jpeg":case"image/gif":case"image/apng":case"image/bmp":case"image/x-icon":case"image/svg+xml":case"image/tiff":case"image/webp":_="img/";break;case"audio/midi":case"audio/mpeg":case"audio/webm":case"audio/ogg":case"audio/wav":_="audio/";break;case"video/webm":case"video/ogg":_="video/";break;case"application/octet-stream":case"application/pdf":_="file/";break}return _==""?g.name:`${_}${g.name}`},f=g=>new Promise(_=>{const b=ir.confirm({title:"\u88C1\u526A\u56FE\u7247",onCancel:()=>{ht.info("\u53D6\u6D88\u4E0A\u4F20"),_(!1),b.close()},simple:!1,width:500,content:d(Ha,{file:g,onOk:w=>{_(w),b.close()},onCancel:()=>{_(!1),ht.info("\u53D6\u6D88\u88C1\u526A"),b.close()}}),footer:null})}),v=async(g,_)=>{if(c){const b=await f(g);b instanceof File&&(g=new File([b],g.name,{type:g.type,lastModified:g.lastModified}))}if(s&&(a?await wa().then(b=>{const{code:w,access_id:O,callback:x,host:P,policy:R,signature:M}=b.data;return w!==0?!1:(n({policy:R,OSSAccessKeyId:O,success_action_status:200,signature:M,callback:x}),e(P),!0)},b=>(console.log("\u83B7\u53D6\u79C1\u6709\u5BF9\u8C61\u76F4\u4F20\u7B7E\u540D\u5931\u8D25\uFF0Cerr:"+JSON.stringify(b)),!1)):await ya().then(b=>{const{code:w,access_id:O,callback:x,host:P,policy:R,signature:M}=b.data;return w!==0?!1:(n({policy:R,OSSAccessKeyId:O,success_action_status:200,signature:M,callback:x}),e(P),!0)},b=>(console.log("\u83B7\u53D6\u5BF9\u8C61\u76F4\u4F20\u7B7E\u540D\u5931\u8D25\uFF0Cerr:"+JSON.stringify(b)),!1))),t.beforeUpload&&t.beforeUpload(g,_),i||typeof i=="undefined"){const b=h(g.name),w=new File([g],b,{type:g.type,lastModified:g.lastModified});return Promise.resolve(w)}},C=(g,_)=>{t.onChange&&t.onChange(g,_)},y=g=>{const{onProgress:_,onError:b,onSuccess:w,file:O}=g,x=new XMLHttpRequest;x.upload&&(x.upload.onprogress=function(R){let M;R.total>0&&(M=R.loaded/R.total*100),_(parseInt(String(M),10),R)}),x.onerror=function(M){b(M)},x.onload=function(){if(x.status<200||x.status>=300)return b(x.responseText);w(x.responseText,x)};const P=new FormData;if(s){P.append("key",p(O));for(const R in r)P.append(R,r[R])}if(!s){const R=localStorage.getItem("token");if(!R){ht.error("\u7F3A\u5C11token");return}const M=localStorage.getItem("iat"),T=localStorage.getItem("expiresIn"),G=localStorage.getItem("expiredAt");if(parseInt(M)+parseInt(T)!==parseInt(G)){ht.error("Token \u5DF2\u8FC7\u671F");return}P.append("token",R),e(l||Ca())}return P.append("withCredentials","false"),P.append(g.name||"file",O),x.open("post",o||"/",!0),s&&x.setRequestHeader("x-oss-forbid-overwrite","true"),x.send(P),{abort(){x.abort()}}};return m.exports.useEffect(()=>{e(l)},[l]),d("div",{children:d(ba,{...u,beforeUpload:async(g,_)=>await v(g,_),onChange:C,customRequest:y})})}export{Ya as U};
