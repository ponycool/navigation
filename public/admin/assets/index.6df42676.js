import{aO as T,u as y,r as a,j as r,a as l,x as p,B as P}from"./index.42860b0d.js";import{C as b}from"./index.d374f698.js";import{T as z}from"./index.3780e150.js";import{P as j}from"./index.82c0df44.js";import{i as D,S as v,s as w}from"./form.2e8352a5.js";import{getColumns as B}from"./constants.dfb9598a.js";import"./b-tween.es.064e2a03.js";import"./index.09486933.js";import"./pad.df1642c1.js";import"./index.fabee1aa.js";import"./index.3337ff1c.js";function F(o){return T({url:"/record/query",method:"post",data:o})}function A(){const o=y(D),[t,i]=a.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[s,d]=a.exports.useState({}),f=a.exports.useMemo(()=>B(o),[o]),[g,h]=a.exports.useState([]),[S,c]=a.exports.useState(!0);a.exports.useEffect(()=>{u()},[t.current,t.pageSize,JSON.stringify(s)]);function u(){const{current:e,pageSize:n}=t;c(!0),F({page:e,pageSize:n,...s}).then(m=>{h(m.data.pageData),i({...t,current:e,pageSize:n,total:m.data.total}),c(!1)})}function x({current:e,pageSize:n}){i({...t,current:e,pageSize:n})}function C(e){i({...t,current:1}),e.time!=""&&e.time!=null&&(e.startTime=e.time[0],e.endTime=e.time[1],delete e.time),d(e)}return r("div",{children:l(b,{children:[r(v,{onSearch:C}),r(j,{children:l("div",{className:w["button-group"],children:[r(p,{}),r(p,{children:r(P,{onClick:()=>{u()},type:"primary",children:o["searchTable.operations.reload"]})})]})}),r(z,{rowKey:"id",loading:S,onChange:x,pagination:t,columns:f,data:g})]})})}export{A as default};
