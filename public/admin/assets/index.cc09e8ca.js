import{R as U,r as C,p as k,j as c,_ as $,a as I,b as z,C as J,F as Q,aM as qe,T as ne,a3 as T,a0 as V,aO as Me,a1 as He,af as Ve,aP as Be,aQ as Ze,c as K,N as ae,aR as ee,v as Ke,ao as me,B as We,a5 as Le,aS as Ge,g as ze,o as Je}from"./index.38d69c70.js";import{P as Qe}from"./index.2145f3df.js";import{c as Xe,I as De,b as Ye}from"./index.8c8ae2b1.js";var P={init:"init",uploading:"uploading",success:"done",fail:"error"};function he(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function be(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?he(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function er(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=be(be({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-upload")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"})})}var ie=U.forwardRef(er);ie.defaultProps={isIcon:!0};ie.displayName="IconUpload";var oe=ie;function ye(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Oe(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ye(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ye(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function rr(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=Oe(Oe({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-play-arrow-fill")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{fill:"currentColor",stroke:"none",d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z"})})}var le=U.forwardRef(rr);le.defaultProps={isIcon:!0};le.displayName="IconPlayArrowFill";var tr=le;function we(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function xe(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?we(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function nr(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=xe(xe({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-pause")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,I("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"M14 12H18V36H14z"}),c("path",{d:"M30 12H34V36H30z"}),c("path",{fill:"currentColor",stroke:"none",d:"M14 12H18V36H14z"}),c("path",{fill:"currentColor",stroke:"none",d:"M30 12H34V36H30z"})]})}var se=U.forwardRef(nr);se.defaultProps={isIcon:!0};se.displayName="IconPause";var ar=se,M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M.apply(this,arguments)},ir=function(e){var a=z(),t=e.file,r=e.prefixCls,n=e.progressProps,o=e.progressRender,l=C.exports.useContext(J).locale,i=t.status,u=t.percent,s=u===void 0?0:u,d=r+"-list",v=n&&n.width?{width:n.width}:{},f=I(Q,{children:[i===P.fail&&e.reuploadIcon!==null&&c("span",{...M({className:r+"-list-reupload-icon",onClick:function(){e.onReupload&&e.onReupload(t)},tabIndex:0,role:"button","aria-label":l.Upload.reupload},a({onPressEnter:function(){e.onReupload&&e.onReupload(t)}})),children:e.reuploadIcon||(e.listType==="picture-card"?c(oe,{}):l.Upload.reupload)}),i===P.success&&e.successIcon!==null&&c("span",{className:r+"-list-success-icon",children:e.successIcon||c(qe,{})}),i!==P.success&&I("div",{className:d+"-status",style:v,children:[c(Qe,{...M({showText:!1,className:d+"-progress",type:"circle",status:i===P.fail?"error":i===P.success?"success":"normal",percent:s,size:"mini"},n)}),i===P.init&&e.startIcon!==null&&c("span",{...M({tabIndex:0,role:"button","aria-label":l.Upload.start,className:r+"-list-start-icon",onClick:function(){e.onUpload&&e.onUpload(t)}},a({onPressEnter:function(){e.onUpload&&e.onUpload(t)}})),children:e.startIcon||c(ne,{content:l.Upload.start,children:c(tr,{})})}),i===P.uploading&&e.cancelIcon!==null&&c("span",{...M({className:e.prefixCls+"-list-cancel-icon",onClick:function(){e.onAbort&&e.onAbort(t)},tabIndex:0,"aria-label":l.Upload.cancel},a({onPressEnter:function(){e.onAbort&&e.onAbort(t)}})),children:e.cancelIcon||c(ne,{content:l.Upload.cancel,children:c(ar,{})})})]})]});return T(o)?o(t,f):f},Ee=ir,H=globalThis&&globalThis.__assign||function(){return H=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H.apply(this,arguments)},or=function(e,a){var t=e.disabled,r=e.prefixCls,n=e.file,o=e.showUploadList,l=e.locale,i=z(),u=r+"-list-item-picture",s=n.status,d=n.originFile,v=n.url!==void 0?n.url:d&&T(URL.createObjectURL)&&URL.createObjectURL(d),f=V(o)?o:{};return c("div",{className:u,ref:a,children:s===P.uploading?c(Ee,{...H({onReupload:e.onReupload,onUpload:e.onUpload,onAbort:e.onAbort,listType:"picture-card",file:n,prefixCls:r,progressProps:e.progressProps},f)}):I(Q,{children:[T(f.imageRender)?f.imageRender(n):c("img",{src:v,alt:n.name}),I("div",{className:u+"-mask",role:"radiogroup",children:[n.status===P.fail&&c("div",{className:u+"-error-tip",children:f.errorIcon!==null&&c("span",{className:r+"-list-error-icon",children:f.errorIcon||c(Xe,{})})}),I("div",{className:u+"-operation",children:[n.status!==P.fail&&f.previewIcon!==null&&c("span",{...H({className:r+"-list-preview-icon",tabIndex:0,role:"button","aria-label":l.Upload.preview},i({onPressEnter:function(){e.onPreview&&e.onPreview(n)}}),{onClick:function(){e.onPreview&&e.onPreview(n)}}),children:f.previewIcon||c(Me,{})}),n.status===P.fail&&f.reuploadIcon!==null&&c("span",{...H({className:e.prefixCls+"-list-reupload-icon",onClick:function(){e.onReupload&&e.onReupload(n)},tabIndex:0,role:"button","aria-label":l.Upload.reupload},i({onPressEnter:function(){e.onReupload&&e.onReupload(n)}})),children:f.reuploadIcon||c(oe,{})}),!t&&f.removeIcon!==null&&c("span",{...H({className:r+"-list-remove-icon",onClick:function(){e.onRemove&&e.onRemove(n)},role:"button","aria-label":l.Upload.delete,tabIndex:0},i({onPressEnter:function(){e.onRemove&&e.onRemove(n)}})),children:f.removeIcon||c(De,{})})]})]})]})})},lr=C.exports.forwardRef(or);function Pe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Ce(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Pe(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function sr(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=Ce(Ce({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-file-pdf")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,I("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"}),c("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"})]})}var ce=U.forwardRef(sr);ce.defaultProps={isIcon:!0};ce.displayName="IconFilePdf";var cr=ce;function _e(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function je(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?_e(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ur(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=je(je({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-file-image")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"})})}var ue=U.forwardRef(ur);ue.defaultProps={isIcon:!0};ue.displayName="IconFileImage";var Se=ue;function Ie(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Ne(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Ie(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function dr(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=Ne(Ne({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-file-video")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,I("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"}),c("path",{d:"M22 27.796v-6l5 3-5 3Z"})]})}var de=U.forwardRef(dr);de.defaultProps={isIcon:!0};de.displayName="IconFileVideo";var fr=de;function Ue(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Re(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Ue(Object(t),!0).forEach(function(r){$(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function pr(e,a){var t=C.exports.useContext(k),r=t.prefixCls,n=r===void 0?"arco":r,o=e.spin,l=e.className,i=Re(Re({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-file-audio")});return o&&(i.className="".concat(i.className," ").concat(n,"-icon-loading")),delete i.spin,delete i.isIcon,I("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"}),c("path",{fill:"currentColor",stroke:"none",d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),c("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"})]})}var fe=U.forwardRef(pr);fe.defaultProps={isIcon:!0};fe.displayName="IconFileAudio";var vr=fe,Z=globalThis&&globalThis.__assign||function(){return Z=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Z.apply(this,arguments)},gr=function(e){var a="";if(e.originFile&&e.originFile.type)a=e.originFile.type;else{var t=e.name||"",r=t.split(".").pop()||"";a=r,["png","jpg","jpeg","bmp","gif"].indexOf(r)>-1?a="image":["mp4","m2v","mkv"].indexOf(r)>-1?a="video":["mp3","wav","wmv"].indexOf(r)>-1&&(a="audio")}return a.indexOf("image")>-1?Se:a.indexOf("pdf")>-1?cr:a.indexOf("audio")>-1?vr:a.indexOf("video")>-1?fr:Be},mr=function(e,a){var t=e.prefixCls,r=e.disabled,n=e.file,o=e.locale,l=t+"-list-item-text",i=z(),u=gr(n),s=V(e.showUploadList)?e.showUploadList:{},d=V(s)?s:{},v=n.name||n.originFile&&n.originFile.name,f=n.url!==void 0?n.url:n.originFile&&T(URL.createObjectURL)&&URL.createObjectURL(n.originFile),h={};return n.status!==P.fail&&(h={popupVisible:!1}),I("div",{className:t+"-list-item "+t+"-list-item-"+n.status,ref:a,children:[I("div",{className:l,children:[e.listType==="picture-list"&&c("div",{className:l+"-thumbnail",children:T(s.imageRender)?s.imageRender(n):c("img",{src:f})}),I("div",{className:l+"-content",children:[I("div",{className:l+"-name",children:[e.listType==="text"&&d.fileIcon!==null&&c("span",{className:t+"-list-file-icon",children:d.fileIcon||c(u,{})}),T(s.fileName)?c("span",{className:l+"-name-text",children:s.fileName(n)}):n.url?c("a",{href:n.url,target:"_blank",rel:"noreferrer",className:l+"-name-link",children:v}):c("span",{className:l+"-name-text",children:v}),n.status===P.fail&&d.errorIcon!==null&&c(ne,{...Z({content:(typeof n.response=="object"?C.exports.isValidElement(n.response)&&n.response:n.response)||o.Upload.error},h,{disabled:n.status!==P.fail}),children:c("span",{className:e.prefixCls+"-list-error-icon",children:d.errorIcon||(e.listType==="picture-card"?c(Se,{}):c(He,{}))})})]}),c(Ee,{...Z({file:n,prefixCls:t,progressProps:e.progressProps,onReupload:e.onReupload,onUpload:e.onUpload,onAbort:e.onAbort},d)})]})]}),c("div",{className:t+"-list-item-operation",children:!r&&d.removeIcon!==null&&c(Ve,{...Z({className:t+"-list-remove-icon-hover",onClick:function(){e.onRemove&&e.onRemove(n)},tabIndex:0,"aria-label":o.Upload.delete},i({onPressEnter:function(){e.onRemove&&e.onRemove(n)}})),children:c("span",{className:t+"-list-remove-icon",children:d.removeIcon||c(De,{})})})})]})},hr=C.exports.forwardRef(mr),W=globalThis&&globalThis.__assign||function(){return W=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(this,arguments)},br=globalThis&&globalThis.__rest||function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(t[r[n]]=e[r[n]]);return t},yr=globalThis&&globalThis.__read||function(e,a){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),n,o=[],l;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(i){l={error:i}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o},ke=function(e){var a,t=C.exports.useContext(J),r=t.locale,n=t.rtl,o=e.listType,l=e.fileList,i=e.renderUploadList,u=e.renderUploadItem,s=e.prefixCls,d=br(e,["listType","fileList","renderUploadList","renderUploadItem","prefixCls"]),v=yr(C.exports.useState(-1),2),f=v[0],h=v[1],b=C.exports.useMemo(function(){return l.map(function(y){var m=y.url;return y.url===void 0&&[P.init,P.success].indexOf(y.status)>-1&&(m=y.originFile&&T(URL.createObjectURL)&&URL.createObjectURL(y.originFile)),m}).filter(Boolean)},[l]);if(T(i))return c("div",{className:s+"-list",children:i(l,d)});var N=function(y){e.imagePreview&&h(y)};return I(Q,{children:[c(Ze,{className:K(s+"-list",s+"-list-type-"+o,(a={},a[s+"-list-rtl"]=n,a)),children:l.map(function(y,m){var j=o==="picture-card"?c("div",{className:s+"-list-item "+s+"-list-item-"+y.status,children:c(lr,{...W({},e,{onPreview:function(p){var g;N(m),(g=e.onPreview)===null||g===void 0||g.call(e,p)},file:y,locale:r})})}):c(hr,{...W({},e,{file:y,locale:r})});return T(u)&&(j=u(j,y,l)),o==="picture-card"?c(ae,{timeout:{enter:200,exit:400},classNames:s+"-slide-inline",onEntered:function(p){!p||(p.style.width="")},onExit:function(p){!p||(p.style.width=p.scrollWidth+"px")},onExiting:function(p){!p||(p.style.width=0)},onExited:function(p){!p||(p.style.width=0)},children:j},y.uid):c(ae,{timeout:{enter:200,exit:400},classNames:s+"-slide-up",onExit:function(p){!p||(p.style.height=p.scrollHeight+"px")},onExiting:function(p){!p||(p.style.height=0)},onExited:function(p){!p||(p.style.height=0)},children:j},y.uid)})}),o==="picture-card"&&e.imagePreview&&c(Ye,{srcList:b,visible:f!==-1,current:f,onChange:N,onVisibleChange:function(y){N(y?f:-1)}})]})};ke.displayName="FileList";var Or=ke;function Fe(e){var a=e.responseText||e.response;if(!a)return a;try{return JSON.parse(a)}catch{return a}}var wr=function(e){var a=e.onProgress,t=a===void 0?ee:a,r=e.onError,n=r===void 0?ee:r,o=e.onSuccess,l=o===void 0?ee:o,i=e.action,u=e.method,s=e.headers,d=s===void 0?{}:s,v=e.name,f=e.file,h=e.data,b=h===void 0?{}:h,N=e.withCredentials,y=N===void 0?!1:N;function m(_){return typeof _=="function"?_(f):_}var j=m(v),p=m(b),g=new XMLHttpRequest;t&&g.upload&&(g.upload.onprogress=function(_){var L;_.total>0&&(L=_.loaded/_.total*100),t(parseInt(L,10),_)}),g.onerror=function(L){n(L)},g.onload=function(){if(g.status<200||g.status>=300)return n(Fe(g));l(Fe(g))};var x=new FormData;p&&Object.keys(p).map(function(_){return x.append(_,p[_])}),x.append(j||"file",f),g.open(u,i,!0),y&&"withCredentials"in g&&(g.withCredentials=!0);for(var w in d)d.hasOwnProperty(w)&&d[w]!==null&&g.setRequestHeader(w,d[w]);return g.send(x),{abort:function(){g.abort()}}},xr=wr,pe=function(e,a){var t=V(a)?a==null?void 0:a.type:a,r=!(V(a)&&a.strict===!1);if(r&&t&&e){var n=Ke(t)?t:t.split(",").map(function(l){return l.trim()}).filter(function(l){return l}),o=(e.name.indexOf(".")>-1?"."+e.name.split(".").pop():"").toLowerCase();return n.some(function(l){var i=l&&l.toLowerCase(),u=(e.type||"").toLowerCase(),s=u.split("/")[0];if(i===u||""+s+o.replace(".","/")===i||/^\*(\/\*)?$/.test(i))return!0;if(/\/\*/.test(i))return u.replace(/\/.*$/,"")===i.replace(/\/.*$/,"");if(/\..*/.test(i)){var d=[i];return(i===".jpg"||i===".jpeg")&&(d=[".jpg",".jpeg"]),d.indexOf(o)>-1}return!1})}return!!e},Pr=function(e,a){if(!!e){var t=[].slice.call(e);return a&&(t=t.filter(function(r){return pe(r,a)})),t}},Cr=function(e,a,t){var r=[],n=0,o=function(){!n&&t(r)},l=function(u){if(n+=1,u!=null&&u.isFile){u.file(function(f){n-=1,pe(f,a)&&(Object.defineProperty(f,"webkitRelativePath",{value:u.fullPath.replace(/^\//,"")}),r.push(f)),o()});return}if(u!=null&&u.isDirectory){var s=u.createReader(),d=!1,v=function(){s.readEntries(function(f){d||(n-=1,d=!0),f.length===0?o():(v(),f.forEach(l))})};v();return}n-=1,o()},i=[].slice.call(e);i.forEach(function(u){u.webkitGetAsEntry&&l(u.webkitGetAsEntry())})},G=globalThis&&globalThis.__assign||function(){return G=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},G.apply(this,arguments)},re=globalThis&&globalThis.__read||function(e,a){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),n,o=[],l;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(i){l={error:i}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o},Te=globalThis&&globalThis.__spreadArray||function(e,a,t){if(t||arguments.length===2)for(var r=0,n=a.length,o;r<n;r++)(o||!(r in a))&&(o||(o=Array.prototype.slice.call(a,0,r)),o[r]=a[r]);return e.concat(o||Array.prototype.slice.call(a))},_r=function(e,a){var t,r,n=z(),o=C.exports.useContext(J).locale,l=re(C.exports.useState(!1),2),i=l[0],u=l[1],s=re(C.exports.useState(0),2),d=s[0],v=s[1],f=e.tip,h=e.children,b=e.disabled,N=e.drag,y=e.listType,m=e.prefixCls,j=e.accept,p=e.multiple,g={disabled:b};return C.exports.useEffect(function(){v(0)},[i]),h===null?null:c("div",{...G({className:m+"-trigger",onClick:b?void 0:e.onClick},n({onPressEnter:function(){var x;!b&&((x=e.onClick)===null||x===void 0||x.call(e))}}),{ref:a,onDragEnter:function(){v(d+1)},onDragLeave:function(x){var w;x.preventDefault(),d===0?(u(!1),!b&&((w=e.onDragLeave)===null||w===void 0||w.call(e,x))):v(d-1)},onDrop:function(x){if(x.preventDefault(),!b&&e.drag!==!1){if(u(!1),e.directory)Cr(x.dataTransfer.items,j,function(E){e.onDragFiles&&e.onDragFiles(E)});else{var w=[].slice.call(x.dataTransfer.items||[]).reduce(function(E,A,X){if(A.webkitGetAsEntry){var B=A.webkitGetAsEntry();return B!=null&&B.isDirectory?Te(Te([],re(E),!1),[X],!1):E}},[]),_=[].slice.call(x.dataTransfer.files||[]).filter(function(E,A){return!w.includes(A)}),L=Pr(_,j);L.length>0&&e.onDragFiles&&e.onDragFiles(p?L:L.slice(0,1))}e.onDrop&&e.onDrop(x)}},onDragOver:function(x){var w;x.preventDefault(),!b&&!i&&(u(!0),(w=e.onDragOver)===null||w===void 0||w.call(e,x))}}),children:U.isValidElement(h)?c("div",{className:K((t={},t[m+"-trigger-custom-active"]=i,t)),children:U.cloneElement(h,g)}):y==="picture-card"?c("div",{className:m+"-trigger-picture-wrapper",children:c("div",{className:m+"-trigger-picture",tabIndex:0,"aria-label":o.Upload.upload,children:c("div",{className:m+"-trigger-picture-text",children:c(me,{})})})}):N?I("div",{className:K(m+"-trigger-drag",(r={},r[m+"-trigger-drag-active"]=i,r)),tabIndex:0,"aria-label":o.Upload.drag,children:[c(me,{}),c("p",{className:m+"-trigger-drag-text",children:i?o.Upload.dragHover:o.Upload.drag}),f&&c("div",{className:m+"-trigger-tip",children:f})]}):I(We,{...G({},g,{"aria-label":o.Upload.upload,type:"primary",className:m+"-trigger-with-icon"}),children:[c(oe,{}),o.Upload.upload]})})},jr=C.exports.forwardRef(_r),Ir=globalThis&&globalThis.__extends||function(){var e=function(a,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},e(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F=globalThis&&globalThis.__assign||function(){return F=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(this,arguments)},Nr=globalThis&&globalThis.__awaiter||function(e,a,t,r){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function i(d){try{s(r.next(d))}catch(v){l(v)}}function u(d){try{s(r.throw(d))}catch(v){l(v)}}function s(d){d.done?o(d.value):n(d.value).then(i,u)}s((r=r.apply(e,a||[])).next())})},Ur=globalThis&&globalThis.__generator||function(e,a){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(s){return function(d){return u([s,d])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(o=s[0]&2?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,n=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=a.call(e,t)}catch(d){s=[6,d],n=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Rr=function(e){Ir(a,e);function a(t){var r=e.call(this,t)||this;return r.upload=function(n){r.doUpload(n)},r.abort=function(n){var o=r.state.uploadRequests[n.uid];o&&(o.abort&&o.abort(),r.updateFileStatus(F(F({},n),{status:P.fail})),r.deleteReq(n.uid))},r.reupload=function(n){r.doUpload(F(F({},n),{percent:0,status:P.uploading}))},r.deleteReq=function(n){var o=F({},r.state.uploadRequests);delete o[n],r.setState({uploadRequests:o})},r.delete=r.deleteReq,r.updateFileStatus=function(n,o){o===void 0&&(o=r.props.fileList);var l=r.props.onFileStatusChange,i="uid"in n?"uid":"name";l&&l(o.map(function(u){return u[i]===n[i]?n:u}),n)},r.getTargetFile=function(n){var o="uid"in n?"uid":"name",l=r.props.fileList.find(function(i){return i[o]===n[o]});return l},r.doUpload=function(n){return Nr(r,void 0,void 0,function(){var o,l,i,u,s,d,v,f,h,b,N,y,m,j,p=this;return Ur(this,function(g){switch(g.label){case 0:return o=this.props,l=o.action,i=o.headers,u=o.name,s=o.data,d=o.withCredentials,v=o.customRequest,f=o.method,h=function(x,w){var _=p.getTargetFile(n);_&&(_.status=P.uploading,_.percent=x,p.props.onProgress&&p.props.onProgress(_,w))},b=function(x){var w=p.getTargetFile(n);w&&(w.status=P.success,w.response=x,p.updateFileStatus(w)),p.deleteReq(n.uid)},N=function(x){var w=p.getTargetFile(n);w&&(w.status=P.fail,w.response=x,p.updateFileStatus(w)),p.deleteReq(n.uid)},y={onProgress:h,onSuccess:b,onError:N,headers:i,name:u,file:n.originFile,data:s,withCredentials:d},this.updateFileStatus(n),l?(m=xr(F(F({},y),{action:l,method:f})),[3,3]):[3,1];case 1:return v?[4,v(y)]:[3,3];case 2:m=g.sent(),g.label=3;case 3:return this.setState({uploadRequests:F(F({},this.state.uploadRequests),(j={},j[n.uid]=m,j))}),[2]}})})},r.handleFiles=function(n){var o=r.props,l=o.limit,i=o.fileList,u=o.onExceedLimit,s=o.autoUpload;if(Le(l)&&l<i.length+n.length)return u&&u(n,i);var d=function(v,f){var h=r.props.fileList||[],b={uid:""+String(+new Date)+f,originFile:v,percent:0,status:P.init,name:v.name};h.push(b),r.updateFileStatus(b,h),s&&setTimeout(function(){r.doUpload(F(F({},b),{status:P.uploading}))},0)};n.forEach(function(v,f){pe(v,r.props.accept)&&(T(r.props.beforeUpload)?Promise.resolve(r.props.beforeUpload(v,n)).then(function(h){if(h!==!1){var b=Ge(h)?h:v;d(b,f)}}).catch(function(h){console.error(h)}):d(v,f))})},r.state={uploadRequests:{}},r}return a.prototype.render=function(){var t=this,r=this.props,n=r.accept,o=r.multiple,l=r.children,i=r.prefixCls,u=r.tip,s=r.disabled,d=r.drag,v=r.listType,f=r.hide,h=r.directory,b=r.onDrop,N=r.onDragOver,y=r.onDragLeave;return U.createElement(U.Fragment,null,U.createElement("input",F({key:"trigger-input",ref:function(m){return t.inputRef=m},style:{display:"none"},type:"file",accept:V(n)?n==null?void 0:n.type:n,multiple:o},h?{webkitdirectory:"true"}:{},{onChange:function(m){var j=m.target.files;j&&(t.handleFiles([].slice.call(j)),t.inputRef.value="")},onClick:function(m){m.stopPropagation()}})),U.createElement(ae,{key:"trigger-node",in:!f,timeout:100,unmountOnExit:!0,classNames:"fadeIn"},U.createElement(jr,{directory:h,tip:u,multiple:o,accept:n,disabled:s,drag:d,listType:v,onDrop:b,onDragOver:N,onDragLeave:y,onDragFiles:this.handleFiles,onClick:function(){!s&&t.inputRef&&t.inputRef.click()},prefixCls:i},T(l)?l({fileList:this.props.fileList}):l)),u&&v!=="picture-card"&&!d?U.createElement("div",{key:"trigger-tip",className:i+"-trigger-tip"},u):null)},a}(U.Component),Fr=Rr,S=globalThis&&globalThis.__assign||function(){return S=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S.apply(this,arguments)},Tr=globalThis&&globalThis.__rest||function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(t[r[n]]=e[r[n]]);return t},Lr=globalThis&&globalThis.__read||function(e,a){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),n,o=[],l;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(i){l={error:i}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o},te=function(e){var a=[].concat(e||[]).filter(Boolean);return a.reduce(function(t,r,n){if(r.uid){var o=a.findIndex(function(u){return r.uid===u.uid&&r!==u}),l=S({status:P.success,percent:100},r);o===-1?t.push(l):t.splice(o,1,l)}else{var i=""+String(+new Date)+n;t.push(S({uid:i,status:P.success,percent:100},r))}return t},[])},Dr={listType:"text",autoUpload:!0,showUploadList:!0,beforeUpload:function(){return!0},method:"post"},Er=function(e,a){var t,r=C.exports.useContext(J),n=r.getPrefixCls,o=r.componentConfig,l=r.rtl,i=ze(e,Dr,o==null?void 0:o.Upload),u=n("upload"),s=C.exports.useRef(),d=C.exports.useRef(),v=Lr(C.exports.useState(function(){return"fileList"in i?te(i.fileList):"defaultFileList"in i?te(i.defaultFileList):[]}),2),f=v[0],h=v[1],b="fileList"in i?te(i.fileList):f,N=function(O,D){var R;"fileList"in i||h(O),(R=i.onChange)===null||R===void 0||R.call(i,O,D)},y=function(O){O&&setTimeout(function(){s.current&&s.current.upload(O)},0)},m=function(O){s.current&&s.current.reupload(O),i.onReupload&&i.onReupload(O)},j=function(O){if(O){var D=i.onRemove;Promise.resolve(T(D)?D(O,b):D).then(function(R){R!==!1&&(s.current&&s.current.abort(O),N(b.filter(function(Ae){return Ae.uid!==O.uid}),O))}).catch(function(R){console.error(R)})}},p=function(O){O&&s.current&&s.current.abort(O)};C.exports.useImperativeHandle(a,function(){return{submit:function(O){var D=[];O?D=[O]:D=b.filter(function(R){return R.status===P.init}),D.forEach(function(R){y(R)})},abort:function(O){p(O)},reupload:function(O){m(O)},getRootDOMNode:function(){return d.current}}});var g=i.listType,x=i.className,w=i.style,_=i.renderUploadItem,L=i.showUploadList,E=i.renderUploadList,A=i.progressProps,X=i.imagePreview,B=Tr(i,["listType","className","style","renderUploadItem","showUploadList","renderUploadList","progressProps","imagePreview"]),q=Le(i.limit)?{hideOnExceedLimit:!0,maxCount:i.limit}:S({hideOnExceedLimit:!0},i.limit),Y=q.maxCount&&q.maxCount<=b.length,ve="disabled"in i?i.disabled:!q.hideOnExceedLimit&&Y,ge=c("div",{...S({},Je(B,["disabled","directory","onReupload","defaultFileList","fileList","autoUpload","error","action","method","multiple","name","accept","customRequest","children","autoUpload","limit","drag","tip","headers","data","withCredentials","onChange","onPreview","onRemove","onProgress","onExceedLimit","beforeUpload","onDrop","onDragOver","onDragLeave"]),{className:K(u,(t={},t[u+"-type-"+g]=g,t[u+"-drag"]=i.drag,t[u+"-disabled"]=ve,t[u+"-hide"]=q.hideOnExceedLimit&&Y,t[u+"-rtl"]=l,t),x),style:w,ref:d}),children:c(Fr,{...S({ref:s},i,{limit:q.maxCount,hide:q.hideOnExceedLimit&&Y,disabled:ve,prefixCls:u,fileList:b,onProgress:function(O,D){O&&("fileList"in i||h(b.map(function(R){return R.uid===O.uid?O:R})),i.onProgress&&i.onProgress(O,D))},onFileStatusChange:N})})});return I(Q,{children:[g!=="picture-card"&&ge,L&&c(Or,{imagePreview:X,progressProps:A,showUploadList:L,disabled:i.disabled,listType:g,fileList:b,renderUploadItem:_,renderUploadList:E,onUpload:y,onAbort:p,onRemove:j,onReupload:m,onPreview:i.onPreview,prefixCls:u}),g==="picture-card"&&ge,i.tip&&g==="picture-card"&&c("div",{className:u+"-trigger-tip",children:i.tip})]})},$e=C.exports.forwardRef(Er);$e.displayName="Upload";var Ar=$e;export{Ar as U};
