import{q as x,t as S,u as b,r,j as o,a as p,x as l,B as k}from"./index.6bfcbf90.js";import{C as z}from"./index.a3cd06af.js";import{T as v}from"./index.7fb0947f.js";import{P as j}from"./index.ee675a2d.js";import{i as w,s as T}from"./index.module.2839a19f.js";import{getColumns as D}from"./constants.e4b5e3de.js";import"./b-tween.es.064e2a03.js";const P=x.create({timeout:1e4});function q(s){return P.post("https://api.ponycool.com/v1/open/open-source/article/query",{projectSlug:"Navigation",categoryCode:"announcement",...s}).then(e=>e.data)}function K(){const s=S(),e=b(w),[t,i]=r.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),m=async(a,n)=>{n=="view"&&s.push(`/announcement/detail?uuid=${a.uuid}`)},d=r.exports.useMemo(()=>D(e,m),[e]),[h,g]=r.exports.useState([]),[f,c]=r.exports.useState(!0);r.exports.useEffect(()=>{y()},[t.current,t.pageSize]);function y(){const{current:a,pageSize:n}=t;c(!0),q({page:a,pageSize:n}).then(u=>{g(u.data.pageData),i({...t,current:a,pageSize:n,total:u.data.total}),c(!1)})}function C({current:a,pageSize:n}){i({...t,current:a,pageSize:n})}return o("div",{children:p(z,{children:[o(j,{children:p("div",{className:T["button-group"],children:[o(l,{style:{fontSize:"20px"},children:e.announcement}),o(l,{children:o(k,{type:"primary",onClick:()=>s.push("/dashboard/workplace"),children:e.backWorkplace},"back")})]})}),o(v,{rowKey:"id",loading:f,onChange:C,pagination:t,columns:d,data:h})]})})}export{K as default};
