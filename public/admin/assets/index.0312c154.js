import{av as Oe,R as q,a1 as Bt,aw as _r,ax as Mr,ay as Rr,L as nr,az as Sr,aA as Er,aB as Pr,r as h,j as w,aC as kr,E as Or,aD as Dr,C as Lt,g as or,y as Vt,z as Tr,D as Nr,aE as Ir,a0 as We,a as se,af as Ar,Q as Fr,c as fe,a4 as Lr,F as Ut,K as Vr,N as Zt,o as ar,a3 as J,Z as zr,B as lt,b as jr,w as Wr,aj as Br,a5 as Ye,G as Re,H as Se,aF as $t,aG as Ur,U as Zr,v as _t,J as $r,a6 as ir,aH as Hr,aI as W,aJ as Ct,an as Xr,ao as Gr,M as rt,aK as Yr}from"./index.04bb8c9b.js";import"./index.ed7524b9.js";import{d as Kr}from"./index.1d06ffcc.js";import{U as qr}from"./index.16677384.js";var ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)};function Jr(t){var n=Pr(),e=n.prefixCls,r=n.simple;return q.createElement(zt,ie({prefixCls:e,simple:r},t),t.content)}var ut=function(t){var n=t.icon;if(!n&&n!==null&&(n=q.createElement(Bt,null),t.isNotice))switch(t.noticeType){case"info":n=q.createElement(Rr,null);break;case"success":n=q.createElement(Mr,null);break;case"warning":n=q.createElement(Bt,null);break;case"error":n=q.createElement(_r,null);break}return t.isNotice&&(t.hideCancel=!0),t.title=n===null&&t.title===null?null:q.createElement("span",null,n,t.title),t};function sr(t,n){var e,r=document.createElement("div");document.body.appendChild(r);var o=Er();function i(c){var f=q.createElement(nr,ie({},o),q.createElement(Jr,ie({},c,{onCancel:d})));e?e.render(f):e=Sr(f,r)}var a=n||i,s=ie(ie({},t),{visible:!1}),l=function(){var c,f=t.onOk||t.onConfirm;f&&(c=f()),c&&c.then&&(s.confirmLoading=!0,a(s),c.then(function(){d(!0)},function(g){console.error(g),s.confirmLoading=!1,a(s)})),c||d(!0)};s.onOk=l,s=ut(s),s.visible=!0,a(s);function u(){e=e==null?void 0:e._unmount(),r.parentNode&&r.parentNode.removeChild(r);for(var c=0;c<Oe.length;c++){var f=Oe[c];if(f===p){Oe.splice(c,1);break}}}function d(c){!c&&t.onCancel&&t.onCancel(),s.visible=!1,s.afterClose=function(){t.afterClose&&t.afterClose(),u()},a(s)}function v(c){s=ie(ie(ie({},s),{title:t.title}),c),s=ut(s),a(s)}function p(){s.visible=!1,s.afterClose=function(){t.afterClose&&t.afterClose(),u()},a(s)}return Oe.push(p),{close:p,update:v}}var Ee=globalThis&&globalThis.__assign||function(){return Ee=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ee.apply(this,arguments)},Ht=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i};function Qr(t,n){var e=Ht(h.exports.useState(!0),2),r=e[0],o=e[1],i=Ht(h.exports.useState(t),2),a=i[0],s=i[1];h.exports.useImperativeHandle(n,function(){return{update:function(d){s(d)},close:function(){o(!1)}}});function l(){var d=a.onOk&&a.onOk();d&&d.then&&(s(function(v){return Ee(Ee({},v),{confirmLoading:!0})}),d.then(function(){o(!1)},function(v){console.error(v),s(function(p){return Ee(Ee({},p),{confirmLoading:!1})})})),d||o(!1)}function u(){a.onCancel&&a.onCancel(),o(!1)}return w(zt,{...Ee({unmountOnExit:!0,simple:!0},a,{visible:r,onOk:l,onCancel:u}),children:a.content})}var en=h.exports.forwardRef(Qr),Y=globalThis&&globalThis.__assign||function(){return Y=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Y.apply(this,arguments)};function tn(){var t=h.exports.useRef(),n=w(kr,{ref:t}),e=0;function r(i){var a;e+=1;var s=h.exports.createRef(),l=Y({},i);function u(){i.afterClose&&i.afterClose(),v()}var d=w(en,{...Y({key:e,ref:s},ut(Y({},i)),{afterClose:u})});(a=t.current)===null||a===void 0||a.addInstance(d);function v(){var f;(f=t.current)===null||f===void 0||f.removeInstance(d)}function p(){var f;(f=s.current)===null||f===void 0||f.close()}function c(f){var g;l=Y(Y({},l),f),(g=s.current)===null||g===void 0||g.update(ut(Y({},l)))}return Oe.push(p),{close:p,update:c}}var o={confirm:function(i){return r(Y({},i))}};return["info","success","warning","error"].forEach(function(i){o[i]=function(a){return r(Y(Y({},a),{isNotice:!0,noticeType:i}))}}),[o,n]}var K=globalThis&&globalThis.__assign||function(){return K=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},K.apply(this,arguments)},rn=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},wt=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i},Mt=null,nn=0;Or||document.documentElement.addEventListener("click",function(t){Mt={left:t.clientX,top:t.clientY},setTimeout(function(){Mt=null},100)},!0);var on={mask:!0,maskClosable:!0,mountOnEnter:!0,escToExit:!0,getPopupContainer:function(){return document.body},alignCenter:!0};function an(t,n){var e,r,o,i=h.exports.useContext(Lt),a=or(t,on,(o=i.componentConfig)===null||o===void 0?void 0:o.Modal),s=a.className,l=a.style,u=a.visible,d=a.simple,v=a.title,p=a.children,c=a.cancelText,f=a.okText,g=a.okButtonProps,b=a.cancelButtonProps,m=a.getPopupContainer,C=m===void 0?function(){return document.body}:m,y=a.footer,M=a.afterClose,E=a.confirmLoading,S=a.mountOnEnter,D=a.unmountOnExit,P=a.afterOpen,I=a.hideCancel,A=a.autoFocus,ee=a.focusLock,z=a.maskClosable,te=a.mask,H=a.alignCenter,re=a.getChildrenPopupContainer,Z=a.wrapClassName,ne=a.escToExit,G=a.modalRender,be=a.maskStyle,Ze=a.wrapStyle,oe=a.closeIcon,Ce=rn(a,["className","style","visible","simple","title","children","cancelText","okText","okButtonProps","cancelButtonProps","getPopupContainer","footer","afterClose","confirmLoading","mountOnEnter","unmountOnExit","afterOpen","hideCancel","autoFocus","focusLock","maskClosable","mask","alignCenter","getChildrenPopupContainer","wrapClassName","escToExit","modalRender","maskStyle","wrapStyle","closeIcon"]),T=h.exports.useRef(null),x=h.exports.useRef(null),ae=h.exports.useRef(null),Ne=wt(h.exports.useState(),2),Ie=Ne[0],Ae=Ne[1],Fe=wt(h.exports.useState(),2),qe=Fe[0],V=Fe[1],we=h.exports.useRef(null),$e=h.exports.useRef(!1),de=h.exports.useRef(!1),Le=h.exports.useRef(!0);u&&Le.current&&(Le.current=!1);var ye=h.exports.useRef();ye.current||(ye.current=nn++);var Je=wt(Vt(!1,{defaultValue:!1,value:E}),2),pe=Je[0],he=Je[1],j=i.getPrefixCls("modal",a.prefixCls),xe=i.locale,Qe=i.rtl,ht=!d,vt="closable"in a?a.closable:ht,et=h.exports.useCallback(function(){return Tr(C())},[C]);Nr(et,{hidden:u&&te});var _e=function(){a.onCancel&&a.onCancel()},Ve=function(_){ne&&u&&_.key===zr.key&&(_.stopPropagation(),_e())},He=h.exports.useRef(!1),mt=function(_){!de.current||(de.current=!1,!He.current&&z&&te&&_.target===_.currentTarget&&setTimeout(function(){_e()},100))},gt=function(_){var L=a.onConfirm,ue=a.onOk,me=ue||L,ce;me&&(ce=me(_)),ce&&ce.then&&(he(!0),ce.then(function(){he(!1)},function(Xe){he(!1),console.error(Xe)}))};h.exports.useEffect(function(){var _=null;return ne&&(_=setTimeout(function(){var L;Ir(document.body,T.current)&&((L=T.current)===null||L===void 0||L.focus())})),function(){_&&clearTimeout(_)}},[u,ne]);var bt=function(){var _;if(u&&qe===void 0&&T.current){var L=+((_=window.getComputedStyle(T.current,null))===null||_===void 0?void 0:_.zIndex);isNaN(L)||V(L+1)}},tt=function(){if(y!==null){var _=w(lt,{...K({onClick:_e},b),children:c||xe.Modal.cancelText}),L=w(lt,{...K({loading:pe,onClick:gt,type:"primary"},g),children:f||xe.Modal.okText}),ue=J(y)?y(_,L):y||se(Ut,{children:[!I&&_,L]});return w("div",{className:j+"-footer",children:ue})}},ze=i.focusLock.modal,k=!!ze,R=We(ze)&&ze.autoFocus,O=ee!==void 0?ee:k,N=A!==void 0?A:R,F=se(nr,{...K({},i,{prefixCls:a.prefixCls||i.prefixCls,locale:xe,zIndex:qe||1050,getPopupContainer:function(_){return typeof re=="function"?re(_):x.current}}),children:[v&&w("div",{className:j+"-header",children:w("div",{className:j+"-title",id:"arco-dialog-"+ye.current,children:v})}),w("div",{ref:x,className:j+"-content",children:p}),tt(),vt&&(oe!==void 0?w("span",{onClick:_e,className:j+"-close-icon",children:oe}):w(Ar,{tabIndex:-1,onClick:_e,className:j+"-close-icon",role:"button","aria-label":"Close",children:w(Fr,{})}))]}),$=v?{"aria-labelledby":"arco-dialog-"+ye.current}:{},X=w("div",{...K({role:"dialog","aria-modal":"true"},$,{className:fe(j,(e={},e[j+"-simple"]=d,e[j+"-rtl"]=Qe,e),s),style:l,ref:ae}),children:O?w(Lr,{crossFrame:!1,disabled:!u,autoFocus:N,lockProps:{tabIndex:-1,onKeyDown:Ve},children:F}):w(Ut,{children:F})}),B=function(_){if(!$e.current){var L="";if(we.current){var ue=_.getBoundingClientRect(),me=we.current,ce=me.left,Xe=me.top;L=ce-ue.left+"px "+(Xe-ue.top)+"px"}_.style.transformOrigin=L}},ve=Le.current?!S:!!ae.current;return u||ve?w(Vr,{visible:u,forceRender:ve,getContainer:C,children:se("div",{ref:n,children:[te?w(Zt,{in:u,timeout:400,appear:!0,mountOnEnter:S,classNames:"fadeModal",unmountOnExit:D,onEnter:function(_){!_||(_.style.display="block")},onExited:function(_){!_||(_.style.display="none")},children:w("div",{"aria-hidden":!0,className:j+"-mask",style:be})}):null,w("div",{...K({},ar(Ce,["content","icon","showIcon","isNotice","noticeType","onCancel","onOk","onConfirm","closable","prefixCls"]),{tabIndex:!O||!N?-1:null,ref:function(_){T.current=_,bt()},className:fe(j+"-wrapper",(r={},r[j+"-wrapper-no-mask"]=!te,r[j+"-wrapper-align-center"]=H,r[j+"-wrapper-rtl"]=Qe,r),Z),style:K(K({},Ze||{}),{display:u||Ie?"block":"none",overflow:!u&&Ie?"hidden":""}),onKeyDown:!O||!N?Ve:null,onMouseDown:function(_){de.current=_.target===_.currentTarget},onClick:mt}),children:w(Zt,{in:u,timeout:400,appear:!0,classNames:"zoomModal",unmountOnExit:D,mountOnEnter:S,onEnter:function(_){!_||(Ae(!0),we.current=Mt,$e.current=!!_.style.transformOrigin,B(_),ae.current=_)},onEntered:function(_){!_||(B(_),we.current=null,P==null||P())},onExit:function(){He.current=!0},onExited:function(_){!_||(Ae(!1),B(_),M==null||M(),He.current=!1,D&&(ae.current=null))},children:q.cloneElement(J(G)?G(X):X,{onMouseDown:function(){de.current=!1},onMouseUp:function(){de.current=!1}})})})]})}):null}var Te=h.exports.forwardRef(an);Te.displayName="Modal";Te.config=Dr;Te.confirm=function(t){return sr(t)};Te.useModal=tn;["info","success","warning","error"].forEach(function(t){Te[t]=function(n){return sr(K(K({},n),{isNotice:!0,noticeType:t}))}});Te.destroyAll=function(){for(;Oe.length;){var t=Oe.pop();t&&t()}};var zt=Te;function jt(t,n){return n===void 0&&(n=15),+parseFloat(Number(t).toPrecision(n))}function le(t){var n=t.toString().split(/[eE]/),e=(n[0].split(".")[1]||"").length-+(n[1]||0);return e>0?e:0}function Ke(t){if(t.toString().indexOf("e")===-1)return Number(t.toString().replace(".",""));var n=le(t);return n>0?jt(Number(t)*Math.pow(10,n)):Number(t)}function Rt(t){lr&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function ft(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n[0],o=n.slice(1);return o.reduce(function(i,a){return t(i,a)},r)}}var Q=ft(function(t,n){var e=Ke(t),r=Ke(n),o=le(t)+le(n),i=e*r;return Rt(i),i/Math.pow(10,o)}),Be=ft(function(t,n){var e=Math.pow(10,Math.max(le(t),le(n)));return(Q(t,e)+Q(n,e))/e}),ct=ft(function(t,n){var e=Math.pow(10,Math.max(le(t),le(n)));return(Q(t,e)-Q(n,e))/e}),dt=ft(function(t,n){var e=Ke(t),r=Ke(n);return Rt(e),Rt(r),Q(e/r,jt(Math.pow(10,le(n)-le(t))))});function sn(t,n){var e=Math.pow(10,n),r=dt(Math.round(Math.abs(Q(t,e))),e);return t<0&&r!==0&&(r=Q(r,-1)),r}var lr=!0;function ln(t){t===void 0&&(t=!0),lr=t}var un={strip:jt,plus:Be,minus:ct,times:Q,divide:dt,round:sn,digitLength:le,float2Fixed:Ke,enableBoundaryChecking:ln},St=globalThis&&globalThis.__assign||function(){return St=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},St.apply(this,arguments)},Xt=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i},cn={maxWidth:350},fn={enter:300,exit:100},dn={left:12,right:12,top:12,bottom:12},pn=function(t){var n,e=t.style,r=t.disabled,o=t.prefixCls,i=t.value,a=t.vertical,s=t.tooltipVisible,l=t.tooltipPosition,u=t.formatTooltip,d=t.getTooltipContainer,v=t.onMoving,p=t.onMoveEnd,c=t.onMoveBegin,f=jr(),g=Xt(h.exports.useState(!1),2),b=g[0],m=g[1],C=Xt(Vt(!1,{value:s}),2),y=C[0],M=C[1],E=h.exports.useContext(Lt).getPrefixCls,S=h.exports.useMemo(function(){return l||(a?"right":"top")},[l,a]),D=h.exports.useRef(null),P=h.exports.useRef(!1),I=h.exports.useRef(!1),A=h.exports.useRef(null);function ee(T){T.stopPropagation(),!r&&(H(T),m(!0),Re(window,"mousemove",re),Re(window,"touchmove",re),Re(window,"mouseup",Z),Re(window,"touchend",Z),Re(window,"contextmenu",Z))}function z(){P.current=!0,G(),y||(D.current=setTimeout(function(){be(!0)},50))}function te(){P.current=!1,I.current||(G(),D.current=setTimeout(function(){be(!1)},200))}function H(T){T.preventDefault();var x=document.activeElement;x&&x.blur&&x.blur(),J(c)&&c()}function re(T){I.current=!0,T.type==="touchstart"&&(T.clientY=T.touches[0].clientY,T.clientX=T.touches[0].clientX),J(v)&&v(T.clientX,T.clientY)}function Z(){I.current=!1,m(!1),ne(),be(P.current),J(p)&&p()}function ne(){G(),Se(window,"mousemove",re),Se(window,"touchmove",re),Se(window,"mouseup",Z),Se(window,"touchend",Z),Se(window,"contextmenu",Z)}function G(){D.current&&(clearTimeout(D.current),D.current=null)}function be(T){if(!I.current){var x="tooltipVisible"in t?s:T;M(x)}}function Ze(){P.current=!0,G()}var oe=h.exports.useMemo(function(){return J(u)?u(i):i},[u,i]);function Ce(T){var x=E("tooltip");return w("div",{className:fe(x+"-content",x+"-content-"+T),onMouseLeave:te,onMouseEnter:Ze,onClick:function(ae){ae.stopPropagation()},children:w("div",{className:x+"-content-inner",children:oe})})}return h.exports.useEffect(function(){A&&A.current&&A.current.updatePopupPosition()},[i]),w(Wr,{style:cn,classNames:"zoomInFadeOut",duration:fn,showArrow:!0,popupAlign:dn,ref:A,popup:function(){return Ce(S)},popupVisible:y,disabled:s===!1,getPopupContainer:d,position:S,childrenPrefix:E("tooltip"),children:w("div",{...St({className:fe(o+"-button",(n={},n[o+"-button-active"]=b,n)),onMouseDown:ee,onMouseEnter:z,onMouseLeave:te,style:e,role:"slider","aria-valuemax":t.maxValue,"aria-valuemin":t.minValue,"aria-valuenow":i,"aria-disabled":!!r,tabIndex:r?-1:0,"aria-valuetext":Br(oe)||Ye(oe)?String(oe):void 0},f({onArrowRight:function(T){var x;T.preventDefault(),(x=t.onArrowEvent)===null||x===void 0||x.call(t,"addition")},onArrowUp:function(T){var x;T.preventDefault(),(x=t.onArrowEvent)===null||x===void 0||x.call(t,"addition")},onArrowLeft:function(T){var x;T.preventDefault(),(x=t.onArrowEvent)===null||x===void 0||x.call(t,"subtraction")},onArrowDown:function(T){var x;T.preventDefault(),(x=t.onArrowEvent)===null||x===void 0||x.call(t,"subtraction")}}))})})},hn=h.exports.memo(pn),vn=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i};function mn(t){var n=(""+t).split(".")[1];return n&&n.length||0}function De(t){return t*100+"%"}function gn(t,n){var e=Number(t);if(n&&!isNaN(e)){var r=vn(n,2),o=r[0],i=r[1];return dt(ct(e,o),ct(i,o))}return 0}function ur(t,n){var e=Number(t);return n.sort(function(r,o){return r-o}),e>=n[0]&&e<=n[1]}function yt(t){return t||t===0}function bn(t){var n=parseFloat(t),e=n>1?(n/100).toFixed(2):n,r=parseFloat(e);if(!isNaN(r)&&r>=0&&r<=1)return r}function je(t,n){var e=n.find(function(d){return t>=d.begin&&t<=d.end});if(e){var r=e.beginOffset,o=e.begin,i=e.end,a=e.endOffset,s=gn(t,[o,i]),l=ct(a,r),u=Q(s,l);return Be(r,u)}}function Et(t){var n=t.slice(0);return n.sort(function(e,r){return e-r}),n}function Cn(t){return t.some(function(n,e){return n>t[e+1]})}function wn(t,n){var e=n.indexOf(t);if(e===-1){var r=Et(n.concat(t));return e=r.indexOf(t),[Math.max(e-1,0),Math.min(e,n.length-1)]}return[e,e+1]}var yn=function(t){var n=t.data,e=n===void 0?[]:n,r=t.vertical,o=t.prefixCls,i=t.reverse,a=t.intervalConfigs;return e.length?w("div",{className:o+"-marks",children:e.map(function(s){var l,u,d=s.key,v=s.content,p=De(je(+d,a)),c=null;return We(v)&&yt(v.text)?c=v.text:yt(v)&&(c=v),yt(c)&&w("div",{className:o+"-marks-text","aria-hidden":!0,style:r?(l={},l[i?"top":"bottom"]=p,l):(u={},u[i?"right":"left"]=p,u),onMouseDown:function(f){f.stopPropagation(),J(t.onMouseDown)&&t.onMouseDown(parseFloat(d))},children:c},d)})}):null},xn=h.exports.memo(yn),Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Pt.apply(this,arguments)},_n=function(t){var n=t.data,e=n===void 0?[]:n,r=t.valueRange,o=r===void 0?[]:r,i=t.vertical,a=t.prefixCls,s=t.reverse,l=t.intervalConfigs;return e.length?w("div",{className:a+"-dots",children:e.map(function(u){var d,v,p,c=u.key,f=u.content,g=De(je(+c,l));return w("div",{className:a+"-dot-wrapper",style:Pt({},i?(d={},d[s?"top":"bottom"]=g,d):(v={},v[s?"right":"left"]=g,v)),onMouseDown:function(b){b.stopPropagation(),J(t.onMouseDown)&&t.onMouseDown(parseFloat(c))},children:We(f)&&f.dot?f.dot:w("div",{className:fe(a+"-dot",(p={},p[a+"-dot-active"]=ur(c,o),p))})},c)})}):null},Mn=h.exports.memo(_n),ge=globalThis&&globalThis.__assign||function(){return ge=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ge.apply(this,arguments)},Gt=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i},Rn=globalThis&&globalThis.__spreadArray||function(t,n,e){if(e||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return t.concat(i||Array.prototype.slice.call(n))},Sn=function(t){var n,e=t.value,r=t.range,o=t.min,i=t.max,a=t.step,s=t.disabled,l=t.prefixCls,u=t.onChange,d=t.extra,v=d===void 0?[]:d,p={min:o,max:i,step:a,disabled:s},c=Gt(h.exports.useState(e),2),f=c[0],g=c[1],b=v[0],m=r?v[1]:v[0];h.exports.useEffect(function(){g(e)},[e]);var C=function(M){u==null||u(M)},y=function(){g(Rn([],Gt(e),!1).sort(function(M,E){return M-E}))};return se("div",{className:fe(l+"-input",(n={},n[l+"-input-group"]=r,n)),onBlur:y,children:[r&&[w($t,{...ge({},ge(ge({hideControl:!0},b),p),{value:f[0],key:0,onChange:function(M,E){isNaN(M)&&M!==M||(C([M,f[1]]),b!=null&&b.onChange&&(b==null||b.onChange(M,E)))}})}),w("div",{className:l+"-input-range",children:w("span",{className:l+"-input-range-content"})},1)],w($t,{...ge({},ge(ge({hideControl:!0},m),p),{key:2,value:f[1],onChange:function(M,E){isNaN(M)&&M!==M||(C([f[0],M]),m!=null&&m.onChange&&(m==null||m.onChange(M,E)))}})})]})},En=h.exports.memo(Sn),Pn=h.exports.memo(function(n){var e=n.min,r=n.max,o=n.valueRange,i=n.prefixCls,a=n.vertical,s=n.reverse,l=n.intervalConfigs,u=new Map,d=function(p){for(var c=p.step,f=p.begin,g=p.end,b=Math.floor((g-f)/c),m=0;m<=b;m++){var C=Be(m*c,f);if(!(C<=e||C>=r)){var y=De(je(C,l));u.set(y,{offset:y,isActive:ur(C,o)})}}},v=h.exports.useMemo(function(){return u.clear(),l.forEach(function(p){return d(p)}),Array.from(u.values())},[l]);return w("div",{className:i+"-ticks",children:v.map(function(p,c){var f,g,b;return w("div",{className:fe(i+"-tick",(f={},f[i+"-tick-active"]=p.isActive,f)),style:a?(g={},g[s?"top":"bottom"]=p.offset,g):(b={},b[s?"right":"left"]=p.offset,b)},c)})})}),kn=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i};function On(t){var n=t.isRange,e=t.min,r=t.max,o=t.onlyMarkValue,i=t.intervalConfigs,a=t.marks,s=h.exports.useCallback(function(c){var f=i.find(function(E){return c>=E.begin&&c<=E.end});if(f){var g=f.begin,b=f.step,m=c-g,C=Math.round(m/b),y=mn(b),M=parseFloat(Q(b,C).toFixed(y));return Be(g,M)}return c},[i]),l=h.exports.useCallback(function(c){if(!We(a)||Ur(a))return console.warn("marks must be an object when onlyMarkValue is true"),e;if(a[c])return c;var f=Object.keys(a),g=f.map(function(m){return Math.abs(c-parseFloat(m))}),b=g.indexOf(Math.min.apply(null,g));return parseFloat(f[b])},[a,e]),u=h.exports.useCallback(function(c){return Zr(c)||c<=e?e:c>=r?r:o?l(c):s(c)},[l,s,r,e,o]),d=h.exports.useCallback(function(c){return u(c)===c},[u]),v=h.exports.useCallback(function(c){var f=kn([e,e],2),g=f[0],b=f[1];if(n){if(_t(c))return g=u(c[0]),c.map(function(m){return u(m)});console.error("value must be an array when range is true")}else Ye(c)?b=u(c):console.error("value must be a number when range is false");return[g,b]},[u,n,e]),p=h.exports.useCallback(function(c,f){var g=f==="subtraction"?-1:1,b=Be(c,g*t.step);if(t.onlyMarkValue){var m=Object.keys(t.marks),C=m.findIndex(function(y){return Number(y)===c});b=m[C+g]!==void 0?Number(m[C+g]):c}return b},[t.marks,t.onlyMarkValue,t.step]);return{getLegalRangeValue:v,getLegalValue:u,isLegalValue:d,getNextMarkValue:p}}var xt=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i};function Dn(t){if(t.length<2)return[];for(var n=[],e=1;e<t.length;e++){var r=t[e-1],o=t[e];n.push([r,o])}return n}function Tn(t){var n=t.marks,e=n===void 0?{}:n,r=t.getIntervalConfig,o=t.max,i=t.min,a=h.exports.useMemo(function(){var d=Object.keys(e).filter(function(f){return Ye(+f)&&+f>=i&&+f<=o}).sort(function(f,g){return+f>+g?1:-1}),v=d.map(function(f){return{key:f,content:e[f]}}),p=d.map(function(f){return+f});p.length===0?p=[i,o]:(p[0]>i&&(p.unshift(i),v.unshift({key:""+i,content:""})),p.slice(-1)[0]<o&&(p.push(o),v.push({key:""+o,content:""})));var c=Dn(p);return{markIntervals:c,markList:v}},[e,i,o]),s=a.markIntervals,l=a.markList,u=h.exports.useMemo(function(){if(!J(r))return[{begin:i,end:o,step:t.step,beginOffset:0,endOffset:1,width:1}];var d=function(b,m){var C=xt(b,2),y=C[0],M=C[1],E={step:t.step,width:0},S=r([y,M],m)||{},D=S.step,P=bn(S.width);return Ye(D)&&D&&(E.step=D),Ye(P)&&P&&(E.width=P),E},v=1,p=o-i,c=s.map(function(b,m){var C=xt(b,2),y=C[0],M=C[1],E=d([y,M],m),S=E.width;if(S){S=Math.min(v,S);var D=M-y;p-=D,v-=S}return{width:S,step:E.step}});if(c.every(function(b){var m=b.width;return m})&&v){var f=c[s.length-1];f.width+=v}var g=[];return s.forEach(function(b,m){var C=xt(b,2),y=C[0],M=C[1],E=c[m],S=E.step,D=E.width,P={begin:y,end:M,step:S,beginOffset:0,endOffset:0,width:D};P.width||(P.width=v*((M-y)/p));var I=g.length-1;g[I]&&(P.beginOffset=g[I].endOffset),P.endOffset=Math.min(1,P.beginOffset+P.width),g.push(P)}),g},[r,s,o,i,t.step]);return{intervalConfigs:u,markList:l}}var Pe=globalThis&&globalThis.__assign||function(){return Pe=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Pe.apply(this,arguments)},Nn=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},Me=globalThis&&globalThis.__read||function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,i=[],a;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i},In=globalThis&&globalThis.__spreadArray||function(t,n,e){if(e||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return t.concat(i||Array.prototype.slice.call(n))};un.enableBoundaryChecking(!1);var An={max:100,min:0,step:1};function Fn(t,n){var e,r,o=h.exports.useContext(Lt),i=o.getPrefixCls,a=o.componentConfig,s=o.rtl,l=or(t,An,a==null?void 0:a.Slider),u=l.className,d=l.style,v=l.tooltipVisible,p=l.tooltipPosition,c=l.disabled,f=l.min,g=l.max,b=l.range,m=l.step,C=l.showTicks,y=l.marks,M=l.onlyMarkValue,E=l.vertical,S=l.showInput,D=l.reverse,P=l.getIntervalConfig,I=Nn(l,["className","style","tooltipVisible","tooltipPosition","disabled","min","max","range","step","showTicks","marks","onlyMarkValue","vertical","showInput","reverse","getIntervalConfig"]),A=!!b,ee=We(b)?Pe({},b):{draggableBar:!1},z=s?!D:D,te=Tn({min:f,max:g,onlyMarkValue:M,step:m,marks:y,getIntervalConfig:P}),H=te.intervalConfigs,re=te.markList,Z=On({isRange:A,min:f,max:g,onlyMarkValue:M,step:m,intervalConfigs:H,marks:y}),ne=Z.getLegalValue,G=Z.getLegalRangeValue,be=Z.isLegalValue,Ze=Z.getNextMarkValue,oe=Me(Vt(A?[f,f]:f,{defaultValue:l.defaultValue,value:l.value}),2),Ce=oe[0],T=oe[1],x=G(Ce),ae=h.exports.useRef(x),Ne=h.exports.useRef(Cn(x));$r(function(){ae.current=G(Ce)},[Ce,G]),Ne.current&&(x=Et(x));var Ie=x[x.length-1],Ae=x[0],Fe=S&&!M&&(!A||x.length<3),qe=h.exports.useMemo(function(){return Fe&&(_t(S)||We(S))?_t(S)?In([],Me(S),!1):[Pe({},S),Pe({},S)]:[]},[Fe,S]),V=i("slider"),we=h.exports.useRef(null),$e=h.exports.useRef({left:0,height:0,top:0,width:0}),de=h.exports.useRef(!1),Le=h.exports.useRef(0);function ye(k){var R=Et(k);return A?R:R[R.length-1]}function Je(k){var R=k.map(function(O){return ne(O)});return ae.current=R,R}function pe(k,R){var O=Je(k),N=ye(O);T(N),R==="inputValueChange"?Ne.current=O.some(function(F,$){return F>O[$]}):Ne.current=!1,J(l.onChange)&&l.onChange(N)}function he(){if(J(l.onAfterChange)){var k=ye(ae.current);l.onAfterChange(k)}}function j(k){var R,O=Me([x[0],x[x.length-1]],2),N=O[0],F=O[1];return N>F&&(R=Me([F,N],2),N=R[0],F=R[1]),A?k>=N&&k<=F:k<=F}function xe(k,R){var O=$e.current,N=O.left,F=O.top,$=O.width,X=O.height,B=$,ve=z?N+$-k:k-N;if(E&&(B=X,ve=z?R-F:F+X-R),B<=0)return 0;var _=Math.max(dt(ve,B),0);_=Math.min(1,_);var L=H.find(function(Wt){return _>=Wt.beginOffset&&_<=Wt.endOffset}),ue=L.begin,me=L.beginOffset,ce=L.step,Xe=L.endOffset,br=L.end,Cr=_-me,wr=Xe-me,yr=Cr/wr*(br-ue),xr=Math.round(yr/ce);return Be(ue,Q(xr,ce))}function Qe(k){var R,O,N,F=Me(k,2),$=F[0],X=F[1];$>X&&(R=Me([X,$],2),$=R[0],X=R[1]);var B=De($),ve=De(1-X);return E?(O={},O[z?"top":"bottom"]=B,O[z?"bottom":"top"]=ve,O):(N={},N[z?"right":"left"]=B,N[z?"left":"right"]=ve,N)}function ht(k){var R,O;return E?(R={},R[z?"top":"bottom"]=De(k),R):(O={},O[z?"right":"left"]=De(k),O)}function vt(){var k={getTooltipContainer:l.getTooltipContainer,formatTooltip:l.formatTooltip};return"tooltipPosition"in l&&(k.tooltipPosition=p),"tooltipVisible"in l&&(k.tooltipVisible=v),k}function et(){$e.current=we.current.getBoundingClientRect()}function _e(k){et();var R=xe(k.clientX,k.clientY);ee.draggableBar&&j(R)?(Le.current=ne(R),Re(window,"mousemove",tt),Re(window,"mouseup",ze)):Ve(R)}function Ve(k){if(!c){var R=ne(k),O=Me(wn(R,x),2),N=O[0],F=O[1],$=x[N],X=x[F],B=x.slice(0);A&&X-R>R-$?(B[N]=R,pe(B,"jumpToClick")):(B[F]=R,pe(B,"jumpToClick")),he()}}function He(k){pe(k,"inputValueChange"),he()}function mt(k,R,O){de.current=!0;var N=x.slice(0);N[O]=xe(k,R),pe(N,"mousemove")}function gt(){de.current=!1,he()}function bt(k,R){if(!c){var O=x.slice(0);O[R]=Ze(x[R],k),pe(O)}}function tt(k){var R=ne(xe(k.clientX,k.clientY)),O=R-Le.current,N=x.map(function(F){return F+O});N.every(function(F){return be(F)})&&pe(N,"mousemove")}function ze(){Se(window,"mousemove",tt),Se(window,"mouseup",ze),he()}return w("div",{...Pe({},ar(I,["defaultValue","value","onChange","getTooltipContainer","formatTooltip","onAfterChange"]),{className:fe(V,(e={},e[V+"-vertical"]=E,e[V+"-with-marks"]=y,e[V+"-reverse"]=z,e[V+"-rtl"]=s,e),u),style:d,ref:n}),children:se("div",{className:V+"-wrapper",children:[se("div",{ref:we,className:fe(V+"-road",(r={},r[V+"-road-disabled"]=c,r[V+"-road-vertical"]=E,r)),onMouseDown:_e,children:[w("div",{className:V+"-bar",style:Qe([je(Ae,H),je(Ie,H)])}),C&&w(Pn,{intervalConfigs:H,min:f,max:g,valueRange:[Ae,Ie],prefixCls:V,vertical:E,reverse:z}),w(Mn,{data:re,intervalConfigs:H,valueRange:[Ae,Ie],vertical:E,prefixCls:V,reverse:z,onMouseDown:Ve}),w(xn,{data:re,intervalConfigs:H,vertical:E,prefixCls:V,reverse:z,onMouseDown:Ve}),x.map(function(k,R){return!A&&R!==x.length-1?null:w(hn,{...Pe({key:R,style:ht(je(k,H)),disabled:c,prefixCls:V,value:k,maxValue:g,minValue:f,vertical:E},vt(),{onMoveBegin:et,onMoving:function(O,N){return mt(O,N,R)},onMoveEnd:gt,onArrowEvent:function(O){return bt(O,R)}})})})]}),Fe&&w(En,{min:f,max:g,step:m,value:x,range:A,disabled:c,prefixCls:V,onChange:He,extra:qe})]})})}var cr=h.exports.forwardRef(Fn);cr.displayName="Slider";var Ln=h.exports.memo(cr);function Vn(){return ir({url:"/object-storage/signature/get",method:"post"})}function zn(){return ir({url:"/object-storage/signature/get-private",method:"post"})}function jn(){return"/api/upload/image"}var Yt=!1,ke,kt,Ot,at,it,fr,st,Dt,Tt,Nt,dr,It,At,pr,hr;function U(){if(!Yt){Yt=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(It=/\b(iPhone|iP[ao]d)/.exec(t),At=/\b(iP[ao]d)/.exec(t),Nt=/Android/i.exec(t),pr=/FBAN\/\w+;/i.exec(t),hr=/Mobile/i.exec(t),dr=!!/Win64/.exec(t),n){ke=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,ke&&document&&document.documentMode&&(ke=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);fr=r?parseFloat(r[1])+4:ke,kt=n[2]?parseFloat(n[2]):NaN,Ot=n[3]?parseFloat(n[3]):NaN,at=n[4]?parseFloat(n[4]):NaN,at?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),it=n&&n[1]?parseFloat(n[1]):NaN):it=NaN}else ke=kt=Ot=it=at=NaN;if(e){if(e[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);st=o?parseFloat(o[1].replace("_",".")):!0}else st=!1;Dt=!!e[2],Tt=!!e[3]}else st=Dt=Tt=!1}}var Ft={ie:function(){return U()||ke},ieCompatibilityMode:function(){return U()||fr>ke},ie64:function(){return Ft.ie()&&dr},firefox:function(){return U()||kt},opera:function(){return U()||Ot},webkit:function(){return U()||at},safari:function(){return Ft.webkit()},chrome:function(){return U()||it},windows:function(){return U()||Dt},osx:function(){return U()||st},linux:function(){return U()||Tt},iphone:function(){return U()||It},mobile:function(){return U()||It||At||Nt||hr},nativeApp:function(){return U()||pr},android:function(){return U()||Nt},ipad:function(){return U()||At}},Wn=Ft,nt=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Bn={canUseDOM:nt,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:nt&&!!(window.addEventListener||window.attachEvent),canUseViewport:nt&&!!window.screen,isInWorker:!nt},Un=Bn,vr=Un,mr;vr.canUseDOM&&(mr=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Zn(t,n){if(!vr.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var o=document.createElement("div");o.setAttribute(e,"return;"),r=typeof o[e]=="function"}return!r&&mr&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var $n=Zn,Hn=Wn,Xn=$n,Kt=10,qt=40,Jt=800;function gr(t){var n=0,e=0,r=0,o=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*Kt,o=e*Kt,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode==1?(r*=qt,o*=qt):(r*=Jt,o*=Jt)),r&&!n&&(n=r<1?-1:1),o&&!e&&(e=o<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:o}}gr.getEventType=function(){return Hn.firefox()?"DOMMouseScroll":Xn("wheel")?"wheel":"mousewheel"};var Gn=gr,Yn=Gn;function Kn(t,n,e,r,o,i){i===void 0&&(i=0);var a=Ue(t,n,i),s=a.width,l=a.height,u=Math.min(s,e),d=Math.min(l,r);return u>d*o?{width:d*o,height:d}:{width:u,height:u/o}}function qn(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Ge(t,n,e,r,o){o===void 0&&(o=0);var i=Ue(n.width,n.height,o),a=i.width,s=i.height;return{x:Qt(t.x,a,e.width,r),y:Qt(t.y,s,e.height,r)}}function Qt(t,n,e,r){var o=n*r/2-e/2;return pt(t,-o,o)}function er(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function tr(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function Jn(t,n,e,r,o,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var s=a?Qn:eo,l=Ue(n.width,n.height,i),u=Ue(n.naturalWidth,n.naturalHeight,i),d={x:s(100,((l.width-e.width/o)/2-t.x/o)/l.width*100),y:s(100,((l.height-e.height/o)/2-t.y/o)/l.height*100),width:s(100,e.width/l.width*100/o),height:s(100,e.height/l.height*100/o)},v=Math.round(s(u.width,d.width*u.width/100)),p=Math.round(s(u.height,d.height*u.height/100)),c=u.width>=u.height*r,f=c?{width:Math.round(p*r),height:p}:{width:v,height:Math.round(v/r)},g=W(W({},f),{x:Math.round(s(u.width-f.width,d.x*u.width/100)),y:Math.round(s(u.height-f.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:g}}function Qn(t,n){return Math.min(t,Math.max(0,n))}function eo(t,n){return n}function to(t,n,e,r,o,i){var a=Ue(n.width,n.height,e),s=pt(r.width/a.width*(100/t.width),o,i),l={x:s*a.width/2-r.width/2-a.width*s*(t.x/100),y:s*a.height/2-r.height/2-a.height*s*(t.y/100)};return{crop:l,zoom:s}}function ro(t,n,e){var r=qn(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function no(t,n,e,r,o,i){e===void 0&&(e=0);var a=Ue(n.naturalWidth,n.naturalHeight,e),s=pt(ro(t,n,r),o,i),l=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((a.width-t.width)/2-t.x)*l,y:((a.height-t.height)/2-t.y)*l};return{crop:u,zoom:s}}function rr(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function oo(t){return t*Math.PI/180}function Ue(t,n,e){var r=oo(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function pt(t,n,e){return Math.min(Math.max(t,n),e)}function ot(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var ao=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,io=1,so=3,lo=1,uo=function(t){Hr(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=h.exports.createRef(),e.imageRef=h.exports.createRef(),e.videoRef=h.exports.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document!="undefined"?document:null,e.currentWindow=typeof window!="undefined"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver=="undefined"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){!e.currentDoc||(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=to(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=o.crop,a=o.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var s=no(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=s.crop,a=s.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var r,o,i,a,s,l,u=e.imageRef.current||e.videoRef.current;if(u&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var d=e.containerRect.width/e.containerRect.height,v=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,p=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,c=u.offsetWidth<v||u.offsetHeight<p,f=v/p,g=void 0;if(c)switch(e.state.mediaObjectFit){default:case"contain":g=d>f?{width:e.containerRect.height*f,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/f};break;case"horizontal-cover":g={width:e.containerRect.width,height:e.containerRect.width/f};break;case"vertical-cover":g={width:e.containerRect.height*f,height:e.containerRect.height};break}else g={width:u.offsetWidth,height:u.offsetHeight};e.mediaSize=W(W({},g),{naturalWidth:v,naturalHeight:p}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var b=e.props.cropSize?e.props.cropSize:Kn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==b.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==b.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(b),e.setState({cropSize:b},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(b),b}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){!e.currentDoc||(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){!e.currentDoc||(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){!e.currentDoc||(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){!e.currentDoc||(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var o=n.getMousePoint(r),i=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(i,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+r.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,i,a=r.x,s=r.y;e.dragStartPosition={x:a,y:s},e.dragStartCrop=W({},e.props.crop),(i=(o=e.props).onInteractionStart)===null||i===void 0||i.call(o)},e.onDrag=function(r){var o=r.x,i=r.y;!e.currentWindow||(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(o===void 0||i===void 0)){var a=o-e.dragStartPosition.x,s=i-e.dragStartPosition.y,l={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+s},u=e.props.restrictPosition?Ge(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(u)}}))},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(!!e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),i=Yn(r).pixelY,a=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(a,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},e.getPointOnContainer=function(r,o){var i=r.x,a=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-o.x),y:e.containerRect.height/2-(a-o.y)}},e.getPointOnMedia=function(r){var o=r.x,i=r.y,a=e.props,s=a.crop,l=a.zoom;return{x:(o+s.x)/l,y:(i+s.y)/l}},e.setNewZoom=function(r,o,i){var a=i===void 0?{}:i,s=a.shouldUpdatePosition,l=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var u=pt(r,e.props.minZoom,e.props.maxZoom);if(l){var d=e.getPointOnContainer(o,e.containerPosition),v=e.getPointOnMedia(d),p={x:v.x*u-d.x,y:v.y*u-d.y},c=e.props.restrictPosition?Ge(p,e.mediaSize,e.state.cropSize,u,e.props.rotation):p;e.props.onCropChange(c)}e.props.onZoomChange(u)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Ge(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Jn(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,i)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,i)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var r=e.props.restrictPosition?Ge(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e.onKeyDown=function(r){var o,i,a=e.props,s=a.crop,l=a.onCropChange,u=a.keyboardStep,d=a.zoom,v=a.rotation,p=u;if(!!e.state.cropSize){r.shiftKey&&(p*=.2);var c=W({},s);switch(r.key){case"ArrowUp":c.y-=p,r.preventDefault();break;case"ArrowDown":c.y+=p,r.preventDefault();break;case"ArrowLeft":c.x-=p,r.preventDefault();break;case"ArrowRight":c.x+=p,r.preventDefault();break;default:return}e.props.restrictPosition&&(c=Ge(c,e.mediaSize,e.state.cropSize,d,v)),r.repeat||(i=(o=e.props).onInteractionStart)===null||i===void 0||i.call(o),l(c)}},e.onKeyUp=function(r){var o,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(i=(o=e.props).onInteractionEnd)===null||i===void 0||i.call(o)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver=="undefined"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ao,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver=="undefined"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,o,i,a,s,l,u,d,v;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=e.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},n.prototype.getObjectFit=function(){var e,r,o,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=l/u;return d<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=er(r,o),this.lastPinchRotation=tr(r,o),this.onDragStart(rr(r,o))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=n.getTouchPoint(e.touches[0]),i=n.getTouchPoint(e.touches[1]),a=rr(o,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=er(o,i),l=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(l,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var u=tr(o,i),d=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=u})}},n.prototype.render=function(){var e=this,r,o=this.props,i=o.image,a=o.video,s=o.mediaProps,l=o.cropperProps,u=o.transform,d=o.crop,v=d.x,p=d.y,c=o.rotation,f=o.zoom,g=o.cropShape,b=o.showGrid,m=o.style,C=m.containerStyle,y=m.cropAreaStyle,M=m.mediaStyle,E=o.classes,S=E.containerClassName,D=E.cropAreaClassName,P=E.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return h.exports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ee){return e.containerRef=ee},"data-testid":"container",style:C,className:ot("reactEasyCrop_Container",S)},i?h.exports.createElement("img",W({alt:"",className:ot("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},s,{src:i,ref:this.imageRef,style:W(W({},M),{transform:u||"translate(".concat(v,"px, ").concat(p,"px) rotate(").concat(c,"deg) scale(").concat(f,")")}),onLoad:this.onMediaLoad})):a&&h.exports.createElement("video",W({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ot("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:W(W({},M),{transform:u||"translate(".concat(v,"px, ").concat(p,"px) rotate(").concat(c,"deg) scale(").concat(f,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(A){return h.exports.createElement("source",W({key:A.src},A))})),this.state.cropSize&&h.exports.createElement("div",W({ref:this.cropperRef,style:W(W({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ot("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",b&&"reactEasyCrop_CropAreaGrid",D)},l)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:so,minZoom:io,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:lo},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(h.exports.Component);async function co(t,n,e=0){const r=await new Promise((l,u)=>{const d=new Image;d.addEventListener("load",()=>l(d)),d.addEventListener("error",v=>u(v)),d.src=t}),o=document.createElement("canvas"),i=o.getContext("2d");if(!i||!r)return null;const a=2*(Math.max(r.width,r.height)/2*Math.sqrt(2));o.width=a,o.height=a,e&&(i.translate(a/2,a/2),i.rotate(e*Math.PI/180),i.translate(-a/2,-a/2)),i.drawImage(r,a/2-r.width/2,a/2-r.height/2);const s=i.getImageData(0,0,a,a);return o.width=n.width,o.height=n.height,i.putImageData(s,Math.round(0-a/2+r.width*.5-n.x),Math.round(0-a/2+r.height*.5-n.y)),new Promise(l=>{o.toBlob(u=>{l(u)})})}const fo=t=>{const{file:n,onOk:e}=t,[r,o]=h.exports.useState({x:0,y:0}),[i,a]=h.exports.useState(1),[s,l]=h.exports.useState(0),[u,d]=h.exports.useState(void 0),v=q.useMemo(()=>URL.createObjectURL(n),[n]);return se("div",{children:[w("div",{style:{width:"100%",height:280,position:"relative"},children:w(uo,{style:{containerStyle:{width:"100%",height:280}},aspect:4/4,image:v,crop:r,zoom:i,rotation:s,onRotationChange:l,onCropComplete:(p,c)=>{d(c)},onCropChange:o,onZoomChange:a})}),se(Ct.Row,{justify:"space-between",style:{marginTop:20,marginBottom:20},children:[se(Ct.Row,{style:{flex:1,marginLeft:12,marginRight:12},children:[w(Xr,{style:{marginRight:10},onClick:()=>{a(Math.max(1,i-.1))}}),w(Ln,{style:{flex:1},step:.1,value:i,onChange:p=>{a(p)},min:.8,max:3}),w(Gr,{style:{marginLeft:10},onClick:()=>{a(Math.min(3,i+.1))}})]}),w(Kr,{onClick:()=>{l(s-90)}})]}),se(Ct.Row,{justify:"end",children:[w(lt,{onClick:t.onCancel,style:{marginRight:20},children:"\u53D6\u6D88"}),w(lt,{type:"primary",onClick:async()=>{const p=await co(v||"",u,s);if(p){const c=new File([p],n.name||"image",{type:n.type||"image/*"});t.onOk(c)}},children:"\u786E\u5B9A"})]})]})};function go(t){const[n,e]=h.exports.useState("/"),[r,o]=h.exports.useState({}),{isPrivate:i,needRename:a,isOSS:s,isCrop:l,action:u,...d}=t,v=m=>{const C=m.split(".").pop();return`${Math.random().toString(36).substring(2,12)}${Yr().unix()}.${C}`},p=m=>{let C="";switch(m.type){case"image/png":case"image/jpg":case"image/jpeg":case"image/gif":case"image/apng":case"image/bmp":case"image/x-icon":case"image/svg+xml":case"image/tiff":case"image/webp":C="img/";break;case"audio/midi":case"audio/mpeg":case"audio/webm":case"audio/ogg":case"audio/wav":C="audio/";break;case"video/webm":case"video/ogg":C="video/";break;case"application/octet-stream":case"application/pdf":C="file/";break}return C==""?m.name:`${C}${m.name}`},c=m=>new Promise(C=>{const y=zt.confirm({title:"\u88C1\u526A\u56FE\u7247",onCancel:()=>{rt.info("\u53D6\u6D88\u4E0A\u4F20"),C(!1),y.close()},simple:!1,width:500,content:w(fo,{file:m,onOk:M=>{C(M),y.close()},onCancel:()=>{C(!1),rt.info("\u53D6\u6D88\u88C1\u526A"),y.close()}}),footer:null})}),f=async(m,C)=>{if(l){const y=await c(m);y instanceof File&&(m=new File([y],m.name,{type:m.type,lastModified:m.lastModified}))}if(s&&(i?await zn().then(y=>{const{code:M,access_id:E,callback:S,host:D,policy:P,signature:I}=y.data;return M!==0?!1:(o({policy:P,OSSAccessKeyId:E,success_action_status:200,signature:I,callback:S}),e(D),!0)},y=>(console.log("\u83B7\u53D6\u79C1\u6709\u5BF9\u8C61\u76F4\u4F20\u7B7E\u540D\u5931\u8D25\uFF0Cerr:"+JSON.stringify(y)),!1)):await Vn().then(y=>{const{code:M,access_id:E,callback:S,host:D,policy:P,signature:I}=y.data;return M!==0?!1:(o({policy:P,OSSAccessKeyId:E,success_action_status:200,signature:I,callback:S}),e(D),!0)},y=>(console.log("\u83B7\u53D6\u5BF9\u8C61\u76F4\u4F20\u7B7E\u540D\u5931\u8D25\uFF0Cerr:"+JSON.stringify(y)),!1))),t.beforeUpload&&t.beforeUpload(m,C),a||typeof a=="undefined"){const y=v(m.name),M=new File([m],y,{type:m.type,lastModified:m.lastModified});return Promise.resolve(M)}},g=(m,C)=>{t.onChange&&t.onChange(m,C)},b=m=>{const{onProgress:C,onError:y,onSuccess:M,file:E}=m,S=new XMLHttpRequest;S.upload&&(S.upload.onprogress=function(P){let I;P.total>0&&(I=P.loaded/P.total*100),C(parseInt(String(I),10),P)}),S.onerror=function(I){y(I)},S.onload=function(){if(S.status<200||S.status>=300)return y(S.responseText);M(S.responseText,S)};const D=new FormData;if(s){D.append("key",p(E));for(const P in r)D.append(P,r[P])}if(!s){const P=localStorage.getItem("token");if(!P){rt.error("\u7F3A\u5C11token");return}const I=localStorage.getItem("iat"),A=localStorage.getItem("expiresIn"),ee=localStorage.getItem("expiredAt");if(parseInt(I)+parseInt(A)!==parseInt(ee)){rt.error("Token \u5DF2\u8FC7\u671F");return}D.append("token",P),e(u||jn())}return D.append("withCredentials","false"),D.append(m.name||"file",E),S.open("post",n||"/",!0),s&&S.setRequestHeader("x-oss-forbid-overwrite","true"),S.send(D),{abort(){S.abort()}}};return h.exports.useEffect(()=>{e(u)},[u]),w("div",{children:w(qr,{...d,beforeUpload:async(m,C)=>await f(m,C),onChange:g,customRequest:b})})}export{go as U};
