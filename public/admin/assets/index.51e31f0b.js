import{a6 as C,a5 as B,au as F,aE as d,u as A,r as m,l as w,j as T,a as n,h as E,B as y,V as P,c as k}from"./index.339e4c4e.js";import{C as z}from"./index.e6ebf26c.js";import{T as M}from"./index.6100213a.js";import{P as j}from"./index.e2a0b38c.js";import{i as L,S as Y}from"./form.d1ad7099.js";import{g as q,s as I}from"./constants.161d1e0a.js";import{I as R}from"./index.718e6bca.js";import"./b-tween.es.064e2a03.js";import"./index.7079a279.js";import"./pad.46b1a44a.js";import"./index.8e3d1a6a.js";const{list:b}=C.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>C.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),H=(s={})=>{const{id:u,name:c,"contentType[]":l,"filterType[]":i,"createdTime[]":e,"status[]":r}=s;if(u)return b.filter(t=>t.id===u);let a=[...b];if(c&&(a=a.filter(t=>t.name.toLowerCase().includes(c.toLowerCase()))),l&&(a=a.filter(t=>l.includes(t.contentType.toString()))),i&&(a=a.filter(t=>i.includes(t.filterType.toString()))),e&&e.length===2){const[t,f]=e;a=a.filter(g=>{const h=d().subtract(g.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!d(h).isBefore(d(t))&&!d(h).isAfter(d(f))})}return r&&r.length&&(a=a.filter(t=>r.includes(t.status.toString()))),a};B({setup:()=>{C.mock(new RegExp("/api/list"),s=>{const{page:u=1,pageSize:c=10,...l}=F.parseUrl(s.url).query,i=u,e=c,r=H(l);return{list:r.slice((i-1)*e,i*e),total:r.length}})}});const{Title:N}=k,_=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],$=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],ee=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function te(){const s=A(L),u=async(o,p)=>{console.log(o,p)},c=m.exports.useMemo(()=>q(s,u),[s]),[l,i]=m.exports.useState([]),[e,r]=m.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[a,t]=m.exports.useState(!0),[f,g]=m.exports.useState({});m.exports.useEffect(()=>{h()},[e.current,e.pageSize,JSON.stringify(f)]);function h(){const{current:o,pageSize:p}=e;t(!0),w.get("/api/list",{params:{page:o,pageSize:p,...f}}).then(S=>{i(S.data.list),r({...e,current:o,pageSize:p,total:S.data.total}),t(!1)})}function D({current:o,pageSize:p}){r({...e,current:o,pageSize:p})}function x(o){r({...e,current:1}),g(o)}return T(z,{children:[n(N,{heading:6,children:s["menu.list.searchTable"]}),n(Y,{onSearch:x}),n(j,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:T("div",{className:I["button-group"],children:[T(E,{children:[n(y,{type:"primary",icon:n(P,{}),children:s["searchTable.operations.add"]}),n(y,{children:s["searchTable.operations.upload"]})]}),n(E,{children:n(y,{icon:n(R,{}),children:s["searchTable.operation.download"]})})]})}),n(M,{rowKey:"id",loading:a,onChange:D,pagination:e,columns:c,data:l})]})}export{_ as ContentType,$ as FilterType,ee as Status,te as default};
