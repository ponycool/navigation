import{ac as C,ab as B,az as F,aJ as d,u as w,r as m,w as A,a as T,j as o,q as b,B as y,a1 as z,m as P}from"./index.d5b78a31.js";import{C as k}from"./index.446a7f27.js";import{T as M}from"./index.b93cf84a.js";import{P as j}from"./index.c5054d19.js";import{i as q,S as L}from"./form.d5e8c28a.js";import{g as Y,s as I}from"./constants.5b9f0a15.js";import{I as R}from"./index.810cd4e4.js";import"./b-tween.es.064e2a03.js";import"./index.bca9ac24.js";import"./pad.ea259bf4.js";import"./index.34108825.js";import"./index.a90bf4c4.js";const{list:D}=C.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>C.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),H=(s={})=>{const{id:u,name:c,"contentType[]":l,"filterType[]":i,"createdTime[]":e,"status[]":r}=s;if(u)return D.filter(t=>t.id===u);let a=[...D];if(c&&(a=a.filter(t=>t.name.toLowerCase().includes(c.toLowerCase()))),l&&(a=a.filter(t=>l.includes(t.contentType.toString()))),i&&(a=a.filter(t=>i.includes(t.filterType.toString()))),e&&e.length===2){const[t,f]=e;a=a.filter(h=>{const g=d().subtract(h.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!d(g).isBefore(d(t))&&!d(g).isAfter(d(f))})}return r&&r.length&&(a=a.filter(t=>r.includes(t.status.toString()))),a};B({setup:()=>{C.mock(new RegExp("/api/list"),s=>{const{page:u=1,pageSize:c=10,...l}=F.parseUrl(s.url).query,i=u,e=c,r=H(l);return{list:r.slice((i-1)*e,i*e),total:r.length}})}});const{Title:J}=P,$=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],ee=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],te=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function ae(){const s=w(q),u=async(n,p)=>{console.log(n,p)},c=m.exports.useMemo(()=>Y(s,u),[s]),[l,i]=m.exports.useState([]),[e,r]=m.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[a,t]=m.exports.useState(!0),[f,h]=m.exports.useState({});m.exports.useEffect(()=>{g()},[e.current,e.pageSize,JSON.stringify(f)]);function g(){const{current:n,pageSize:p}=e;t(!0),A.get("/api/list",{params:{page:n,pageSize:p,...f}}).then(S=>{i(S.data.list),r({...e,current:n,pageSize:p,total:S.data.total}),t(!1)})}function E({current:n,pageSize:p}){r({...e,current:n,pageSize:p})}function x(n){r({...e,current:1}),h(n)}return T(k,{children:[o(J,{heading:6,children:s["menu.list.searchTable"]}),o(L,{onSearch:x}),o(j,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:T("div",{className:I["button-group"],children:[T(b,{children:[o(y,{type:"primary",icon:o(z,{}),children:s["searchTable.operations.add"]}),o(y,{children:s["searchTable.operations.upload"]})]}),o(b,{children:o(y,{icon:o(R,{}),children:s["searchTable.operation.download"]})})]})}),o(M,{rowKey:"id",loading:a,onChange:E,pagination:e,columns:c,data:l})]})}export{$ as ContentType,ee as FilterType,te as Status,ae as default};
