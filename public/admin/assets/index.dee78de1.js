import{R as te,ac as Re,r as V,bx as me,v as ye,a3 as G,aj as re,by as Ce,bk as _e,X as Qe,Y as Xe,W as De,V as oe,Z as Fe,J as le,G as je,H as pe,j as S,F as se,aQ as Ye,N as Ze,c as Q,a as ce,ap as Ie,a0 as ae,$ as er,bz as rr,C as nr,g as tr,O as ar,aM as ir,I as lr,e as ur,y as Ne,aN as or,bA as sr,bn as cr,w as dr}from"./index.3588a586.js";var fr=function(e){var a=e.prefixCls,i=e.multiple,u=e.option,n=e.renderOption,t=e.selected,l=e.icons,r=u.disabled||i&&u.disableCheckbox;return te.createElement(te.Fragment,null,i?te.createElement(Re,{disabled:r,checked:u._checked,indeterminate:u._halfChecked,onChange:e.onMultipleChecked,value:u.value}):"",te.createElement("div",{className:a+"-list-item-label",onClick:u.disabled?void 0:e.onClickOption,onMouseEnter:e.onMouseEnter,onDoubleClick:r?void 0:e.onDoubleClickOption},n?n():u.label,u.isLeaf?t&&l.checked:u.loading?l.loading:l.next))},hr=fr;function vr(e){e===void 0&&(e=[]);var a=V.exports.useRef(e),i=function(u,n){n!==void 0?a.current[n]=u:a.current.push(u)};return[a.current,i]}var $=globalThis&&globalThis.__assign||function(){return $=Object.assign||function(e){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$.apply(this,arguments)},Ve=globalThis&&globalThis.__read||function(e,a){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),n,t=[],l;try{for(;(a===void 0||a-- >0)&&!(n=u.next()).done;)t.push(n.value)}catch(r){l={error:r}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return t},ue=globalThis&&globalThis.__spreadArray||function(e,a,i){if(i||arguments.length===2)for(var u=0,n=a.length,t;u<n;u++)(t||!(u in a))&&(t||(t=Array.prototype.slice.call(a,0,u)),t[u]=a[u]);return e.concat(t||Array.prototype.slice.call(a))},gr=function(){function e(a,i,u){var n=this;this.pathValue=[],this.pathLabel=[],this.config={},this._initNode=function(t,l){l===void 0&&(l=null);var r=n.config,d=r.showEmptyChildren,o=r.lazyload,v=$($({},$e),n.config.fieldNames),O=t[v.children],M=Array.isArray(O)?d?!1:O.length===0:!0;o&&(v.isLeaf in t?M=!!t[v.isLeaf]:M=!1);var j=t[v.value],_=t[v.label],I=$($({},t),{value:j,label:_,isLeaf:M,loading:!1,loaded:!1,disabled:l&&l.disabled||t[v.disabled],parent:l,pathValue:l?ue(ue([],Ve(l.pathValue),!1),[j],!1):[j],pathLabel:l?ue(ue([],Ve(l.pathLabel),!1),[_],!1):[_],_level:l?l._level+1:0,_checked:!1,_halfChecked:!1});n._data=$($({},I),{parent:I.parent&&I.parent._data}),Object.keys(I).forEach(function(E){n[E]=I[E]}),O&&O.length&&(n.children=O.map(function(E,k){return new e($($({},E),{_index:k}),n.config,n)}),n._data.children=n.children.map(function(E){return E._data}))},this._isHalfChecked=function(){var t=n.children.reduce(function(l,r){var d=r._halfChecked?.5:r._checked?1:0;return l+d},0);return t!==n.children.length&&t>0},this._setNodeChildrenChecked=function(t,l){!l&&n.disabled||n.children&&n.children.length&&(n.children.forEach(function(r){r.disabled?l&&r.setCheckedStateIgnoreDisabled(t):r.setCheckedState(t)}),n.updateHalfState(t))},this.getSelfChildrenValue=function(){var t=[],l=function(r,d){if(!d||!d.length){t.push(r);return}(d||[]).forEach(function(o){l(o.pathValue,o.children)})};return l(n.pathValue,n.children),t},this.updateHalfState=function(t){n._halfChecked=n._isHalfChecked(),n._checked=n._halfChecked?!1:t},this.setCheckedProperty=function(t){n._checked=t,n._halfChecked=!1},this.setCheckedState=function(t){var l=t?n._checked:!n._checked&&!n._halfChecked;if(!(n.disabled||l)&&(n.setCheckedProperty(t),!n.config.changeOnSelect)){n._setNodeChildrenChecked(t);for(var r=n.parent;r&&!r.disabled;)r.updateHalfState(t),r=r.parent}},this.setCheckedStateIgnoreDisabled=function(t){if(t!==Boolean(n._checked)&&(n.setCheckedProperty(t),!n.config.changeOnSelect)){n._setNodeChildrenChecked(t,!0);for(var l=n.parent;l;)l.updateHalfState(t),l=l.parent}},this.getPathNodes=function(){for(var t=[n],l=n.parent;l;)t.unshift(l),l=l.parent;return t},this.getChildren=function(){return n.children},this.setLoading=function(t){n.loading=t,(t||t===void 0)&&(n.loaded=!1),t===!1&&(n.loaded=!0)},this.config=i||{},this._initNode(a,u||null)}return e}(),pr=gr,ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(e){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ie.apply(this,arguments)},br=function(){function e(a,i,u){var n=this;this.nodes=[],this.flatNodes=[],this.config={},this._calcNodes=function(l,r){return l?l.map(function(d,o){return new pr(ie(ie({},d),{_index:o}),n.config,r)}):[]},this._updateFlatNodes=function(){var l=!n.config.changeOnSelect;n.flatNodes=[];var r=function(d){!d||((!l||d.isLeaf)&&n.flatNodes.push(d),ye(d.children)&&d.children.forEach(function(o){r(o)}))};n.nodes.forEach(function(d){r(d)})},this.setNodeCheckedByValue=function(l){var r=he(l);n.flatNodes.forEach(function(d){var o=!1;n.config.showParent?d.pathValue.some(function(v,O,M){return X(r,M.slice(0,O+1))})&&(o=!0):X(r,d.pathValue)&&(o=!0),d.setCheckedStateIgnoreDisabled(o)})},this.appendOptionChildren=function(l,r){if(r&&l){var d=n._calcNodes(r,l);l.children=d,n._updateFlatNodes(),n.config.changeOnSelect||l.setCheckedState(!1)}},this.findNodeByValue=function(l){var r=null;return!l||!l.length||n.flatNodes.some(function(d){me(d.pathValue,l)&&(r=d)}),r},this.searchNodeByLabel=function(l){if(!l)return n.flatNodes;var r=n.config.filterOption,d=G(r)?r:function(o,v){return re(v.label)&&v.label.indexOf(o)>-1};return n.flatNodes.filter(function(o){var v=o.getPathNodes();return v.some(function(O){return d(l,O._data)})})},this.getOptions=function(){return n.nodes},this.getCheckedNodes=function(){return n.config.showParent?n.getCheckedParentNodes():n.flatNodes.filter(function(l){return l._checked})},this.getCheckedParentNodes=function(){var l=new Set;return n.flatNodes.forEach(function(r){if(r._checked){var d=r.getPathNodes();d.some(function(o){if(o._checked)return l.has(o)||l.add(o),!0})}}),Array.from(l)},this.config=ie({},u);var t=Array.isArray(i)?i:[];this.nodes=this._calcNodes(a,null),this._updateFlatNodes(),this.setNodeCheckedByValue(t)}return e}(),mr=br,Y="__arco_cascader__",yr="parent",Cr="child",Oe={cascader:"cascader",select:"select"};function _r(e){return!e||ye(e)&&e.length===0}function He(e){return{showEmptyChildren:e.showEmptyChildren,changeOnSelect:e.changeOnSelect,lazyload:!!e.loadMore,fieldNames:e.fieldNames,filterOption:e.filterOption,showParent:e.mode==="multiple"&&!e.changeOnSelect&&e.checkedStrategy===yr}}function kr(e,a){var i=a?Array.isArray(a[0])?a:[a]:[];return new mr(e.options||[],i,He(e))}var he=function(e){var a=e||[],i=a.reduce(function(u,n){return u.add([].concat(n).join(Y)),u},new Set);return i},X=function(e,a){var i=a||[];return e.has(i.join(Y))},wr=function(e,a){var i=a||[];return e.delete(i.join(Y))},ne=function(e,a,i){var u=[];if(e===void 0?u=[]:a?u=e:u=[e],i&&i.config.showParent){var n=i.getCheckedNodes(),t=he(n.map(function(d){return d.pathValue})),l=[],r={};return u.map(function(d){d.some(function(o,v,O){var M=O.slice(0,v+1),j=X(t,M);return j&&!r[M.join(Y)]&&(l.push(M),r[M.join(Y)]=1),j})}),l}return u},Sr=function(e){var a=function(i){return Array.isArray(i)?i.every(function(u){return u._checked||u.disabled?!0:a(u.children)}):!1};return e._halfChecked&&a(e==null?void 0:e.children)},Be=function(e,a,i,u){var n=u&&Sr(i)?!1:u,t=a.getCheckedNodes().reduce(function(v,O){return v.add(O.pathValue.join(Y)),v},new Set);i.setCheckedState(n);var l=a.getCheckedNodes(),r=l.map(function(v){return v.pathValue}),d=he(r),o=new Set;return e.filter(function(v){if(!X(t,v)||X(d,v))return o.add(v.join(Y)),!0}).concat(r.filter(function(v){return!X(o,v)}))},de=globalThis&&globalThis.__assign||function(){return de=Object.assign||function(e){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de.apply(this,arguments)},xe=globalThis&&globalThis.__awaiter||function(e,a,i,u){function n(t){return t instanceof i?t:new i(function(l){l(t)})}return new(i||(i=Promise))(function(t,l){function r(v){try{o(u.next(v))}catch(O){l(O)}}function d(v){try{o(u.throw(v))}catch(O){l(O)}}function o(v){v.done?t(v.value):n(v.value).then(r,d)}o((u=u.apply(e,a||[])).next())})},Ee=globalThis&&globalThis.__generator||function(e,a){var i={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},u,n,t,l;return l={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function r(o){return function(v){return d([o,v])}}function d(o){if(u)throw new TypeError("Generator is already executing.");for(;i;)try{if(u=1,n&&(t=o[0]&2?n.return:o[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,o[1])).done)return t;switch(n=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(t=i.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){i.label=o[1];break}if(o[0]===6&&i.label<t[1]){i.label=t[1],t=o;break}if(t&&i.label<t[2]){i.label=t[2],i.ops.push(o);break}t[2]&&i.ops.pop(),i.trys.pop();continue}o=a.call(e,i)}catch(v){o=[6,v],n=0}finally{u=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Le=globalThis&&globalThis.__read||function(e,a){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),n,t=[],l;try{for(;(a===void 0||a-- >0)&&!(n=u.next()).done;)t.push(n.value)}catch(r){l={error:r}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return t},Nr=function(e){for(var a=0;a<e.length;a++)if(!e[a].disabled)return e[a]},Pe=function(e){if(e&&e.disabled){for(var a=e;a.parent&&a.parent.disabled;)a=a.parent;return a}return e},Te=function(e,a){return e<0?a:e>a?0:e},Vr=function(e){var a,i=Le(vr(),2),u=i[0],n=i[1],t=Ce(),l=e.store,r=e.prefixCls,d=e.value,o=e.multiple,v=e.renderFooter,O=e.renderOption,M=e.showEmptyChildren,j=e.loadMore,_=e.renderEmpty,I=e.rtl,E=e.icons,k=Le(V.exports.useState(l.findNodeByValue(d&&d[d.length-1])||null),2),C=k[0],W=k[1],b=l.getOptions(),B=function(s){e.onChange&&e.onChange(s)},U=function(s){return xe(void 0,void 0,void 0,function(){var g,h;return Ee(this,function(y){switch(y.label){case 0:if(!(!s.isLeaf&&G(j)&&!s.children))return[3,5];s.setLoading(!0),t(),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,j(s.pathValue,s.pathValue.length)];case 2:return g=y.sent(),l.appendOptionChildren(s,g),l.setNodeCheckedByValue(e.value),[3,4];case 3:return h=y.sent(),console.error(h),[3,4];case 4:s.setLoading(!1),t(),y.label=5;case 5:return[2]}})})},p=function(s,g){return g===void 0&&(g=!0),xe(void 0,void 0,void 0,function(){return Ee(this,function(h){return!s||s.disabled?[2]:(W(s),U(s),!o&&g&&(e.changeOnSelect||s.isLeaf)&&B([s.pathValue]),[2])})})},w=function(s,g){var h=Be(e.value,l,s,g);s===C&&t(),W(s),e.changeOnSelect||U(s),B(h)},T=V.exports.useCallback(function(s){var g;s===void 0&&(s=C);for(var h=s;h;)(g=u[h._level])===null||g===void 0||g.scrollTo({index:h._index,options:{block:"nearest"}}),h=h._level<1?null:h.parent},[C]),x=V.exports.useCallback(function(s){var g=s.keyCode||s.which,h;switch(g){case Fe.code:{s.preventDefault(),e.onEsc();break}case oe.code:case De.code:{if(!C)h=Nr(b);else for(var y=Pe(C),F=y.parent&&y.parent.children||b,R=g===oe.code?1:-1,f=Te(y._index+R,F.length-1);f!==y._index&&(h=F[f],h.disabled);)f=Te(f+R,F.length-1);return T(h),p(h,!1),s.preventDefault(),!1}case Xe.code:{if(C&&!C.disabled){var F=C.children||[];h=F[0]||C,p(h,!1)}return s.preventDefault(),!1}case Qe.code:{if(C){var y=Pe(C);h=y.parent||y}return p(h,!1),s.preventDefault(),!1}case _e.code:return C&&(o?w(C,!C._checked):p(C)),s.preventDefault(),!1}},[C]);le(function(){W(function(s){var g;if(s&&s.pathValue&&s.pathValue.length){var h=s.pathValue,y={children:b};h.map(function(F){var R=y.children||[],f=R.find(function(z){return z.value===F});f&&(y=f,g=f)})}return g})},[l]),V.exports.useEffect(function(){e.popupVisible&&b.length&&setTimeout(T)},[e.popupVisible]),V.exports.useEffect(function(){var s=e.getTriggerElement();if(!!s)return e.popupVisible?je(s,"keydown",x):pe(s,"keydown",x),function(){pe(s,"keydown",x)}},[e.popupVisible,x]);var H=function(){var s=[b],g=C?C.getPathNodes():[];return g.forEach(function(h){h&&h.children&&s.push(h.children)}),s}(),A=G(e.dropdownColumnRender)?e.dropdownColumnRender:function(s){return s};return!H.length||!(!((a=H[0])===null||a===void 0)&&a.length)?S(se,{children:_()}):S(Ye,{component:te.Fragment,children:H.map(function(s,g){var h,y,F,R=v?v(g,C||null):null;return s.length===0&&!M?null:S(Ze,{timeout:{enter:300,exit:0},classNames:"cascaderSlide",onEnter:function(f){!f||(f.style.marginLeft="-"+f.scrollWidth+"px")},onEntering:function(f){!f||(f.style.marginLeft="0px")},onEntered:function(f){!f||(f.style.marginLeft="")},children:S("div",{className:Q(r+"-list-column",(h={},h[r+"-list-column-virtual"]=e.virtualListProps&&e.virtualListProps.threshold!==null,h[r+"-list-column-rtl"]=I,h)),style:de({zIndex:H.length-g},e.dropdownMenuColumnStyle),children:A(ce("div",{className:Q(r+"-list-wrapper",(y={},y[r+"-list-wrapper-with-footer"]=R!==null,y)),children:[s.length===0?_&&_(e.virtualListProps?"100%":120):S(Ie,{...de({needFiller:!1,threshold:e.virtualListProps?100:null,data:s,isStaticItemHeight:!0,itemKey:"value"},ae(e.virtualListProps)?e.virtualListProps:{},{wrapper:"ul",role:"menu",ref:function(f){return n(f,g)},className:Q(r+"-list",r+"-list-select",(F={},F[r+"-list-multiple"]=o,F[r+"-list-rtl"]=I,F))}),children:function(f){var z,J=!1;return C&&(J=C.pathValue[g]===f.value),S("li",{tabIndex:0,role:"menuitem","aria-haspopup":!f.isLeaf,"aria-expanded":J&&!f.isLeaf,"aria-disabled":f.disabled,title:re(f.label)?f.label:void 0,className:Q(r+"-list-item",(z={},z[r+"-list-item-active"]=J,z[r+"-list-item-disabled"]=f.disabled,z)),children:S(hr,{prefixCls:r,rtl:I,multiple:o,option:f,selected:!o&&f.isLeaf&&me(e.value,f.pathValue),icons:E,onMouseEnter:function(){f.disabled||e.expandTrigger==="hover"&&(W(f),!f.isLeaf&&U(f))},renderOption:O&&function(){return O(f._data,g)},onClickOption:function(){f.isLeaf&&o&&!f.disableCheckbox?w(f,!f._checked):p(f)},onMultipleChecked:function(ve){w(f,ve)},onDoubleClickOption:e.onDoubleClickOption})},f.value)}}),R&&S("div",{className:r+"-list-footer",onMouseDown:function(f){f.stopPropagation()},children:R})]}),g)})},g)})})},Or=Vr,be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(e){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},be.apply(this,arguments)},Ae=globalThis&&globalThis.__read||function(e,a){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),n,t=[],l;try{for(;(a===void 0||a-- >0)&&!(n=u.next()).done;)t.push(n.value)}catch(r){l={error:r}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return t},Me=function(e,a){return e<0?a:e>a?0:e},xr=function(e,a,i){var u=a;if(re(a)){var n=a.toUpperCase().indexOf(e.toUpperCase());if(n>-1){var t=a.substr(0,n),l=a.substr(n+e.length);u=ce(se,{children:[t,S("span",{className:i+"-highlight",children:a.substr(n,e.length)}),l]})}}return u},Er=function(e){var a,i=e.store,u=e.prefixCls,n=e.multiple,t=e.onChange,l=e.inputValue,r=e.renderEmpty,d=e.style,o=e.defaultActiveFirstOption,v=e.rtl,O=e.icons,M=e.value||[],j=Ae(V.exports.useState(i.searchNodeByLabel(l)||[]),2),_=j[0],I=j[1],E=V.exports.useRef(),k=V.exports.useRef(),C=er(),W=Ae(V.exports.useState(o?0:-1),2),b=W[0],B=W[1],U=function(p,w,T){if(T.stopPropagation(),!p.disabled)if(n){var x=Be(e.value,i,p,w);t&&t(x)}else t&&t([p.pathValue])};return le(function(){I(i.searchNodeByLabel(l))},[l,i]),le(function(){B(function(p){return p>_.length-1?o?0:-1:p})},[_]),V.exports.useEffect(function(){var p=e.getTriggerElement();if(!!p){var w=function(T){T.stopPropagation();var x=T.keyCode||T.which;switch(x){case Fe.code:return e.onEsc(),!1;case oe.code:case De.code:{k.current=!0;for(var H=oe.code===x?1:-1,A=Me(b+H,_.length-1);A!==b;){var s=_[A];if(s.disabled)A=Me(A+H,_.length-1);else break}return B(A),!1}case _e.code:var g=_[b];if(g){var h=M.some(function(y){return me(y,g.pathValue)});U(g,!h,T)}return!1}};return je(p,"keydown",w),function(){pe(p,"keydown",w)}}},[_,b,M]),V.exports.useEffect(function(){var p,w=E.current;w&&(k.current||C)&&rr(w,{behavior:"auto",block:"nearest",scrollMode:"if-needed",boundary:(p=w.parentNode)===null||p===void 0?void 0:p.parentNode})},[b,_]),E.current=null,_.length?S("div",{className:u+"-list-wrapper",children:S(Ie,{...be({needFiller:!1,wrapper:"ul",role:"menu",style:d,data:_,isStaticItemHeight:!0,threshold:e.virtualListProps?100:null},ae(e.virtualListProps)?e.virtualListProps:{},{onMouseMove:function(){k.current=!1},className:Q(u+"-list",u+"-list-search",(a={},a[u+"-list-multiple"]=n,a[u+"-list-rtl"]=v,a))}),children:function(p,w){var T,x=p.getPathNodes(),H=x.map(function(h,y){return ce("span",{children:[h.label,x.length===y+1?"":" / "]},h.label+"_"+h._level)}),A=p._checked,s={checked:A},g=G(e.renderOption)?e.renderOption(l,p._data,s):xr(l,H,u);return S("li",{title:re(g)?g:re(H)?H:void 0,role:"menuitem","aria-disabled":p.disabled,ref:function(h){w===b&&(E.current=h),A&&!E.current&&(E.current=h)},className:Q(u+"-list-search-item",(T={},T[u+"-list-search-item-active"]=A,T[u+"-list-search-item-hover"]=w===b,T[u+"-list-search-item-disabled"]=p.disabled,T)),onClick:function(h){U(p,!A,h)},onMouseEnter:function(){!k.current&&!p.disabled&&B(w)},onMouseLeave:function(){!k.current&&!p.disabled&&B(o?0:-1)},children:S("div",{className:u+"-list-item-label",children:G(e.renderOption)?g:n?S(Re,{checked:A,disabled:p.disabled,children:g}):ce(se,{children:[g,A&&S("span",{className:u+"-check-icon",children:O.checked})]})})},w)}})}):S(se,{children:r&&r()})},Lr=Er,Pr=globalThis&&globalThis.__read||function(e,a){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),n,t=[],l;try{for(;(a===void 0||a-- >0)&&!(n=u.next()).done;)t.push(n.value)}catch(r){l={error:r}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return t},Tr=globalThis&&globalThis.__spreadArray||function(e,a,i){if(i||arguments.length===2)for(var u=0,n=a.length,t;u<n;u++)(t||!(u in a))&&(t||(t=Array.prototype.slice.call(a,0,u)),t[u]=a[u]);return e.concat(t||Array.prototype.slice.call(a))};function Ar(e,a){var i=V.exports.useRef(null),u=Ce();return i.current||(i.current=e()),le(function(){i.current=e(),u()},Tr([],Pr(a),!1)),i.current}var fe=globalThis&&globalThis.__assign||function(){return fe=Object.assign||function(e){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fe.apply(this,arguments)},ge=globalThis&&globalThis.__read||function(e,a){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),n,t=[],l;try{for(;(a===void 0||a-- >0)&&!(n=u.next()).done;)t.push(n.value)}catch(r){l={error:r}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return t},$e={label:"label",value:"value",isLeaf:"isLeaf",children:"children",disabled:"disabled"},Mr={options:[],bordered:!0,fieldNames:$e,trigger:"click",expandTrigger:"click",checkedStrategy:Cr,defaultActiveFirstOption:!0},Rr={bottom:4};function Dr(e,a){var i=V.exports.useContext(nr),u=i.getPrefixCls,n=i.renderEmpty,t=i.componentConfig,l=i.rtl,r=tr(e,Mr,t==null?void 0:t.Cascader),d=r.disabled,o=r.renderFormat,v=r.getPopupContainer,O=r.children,M=r.triggerProps,j=r.expandTrigger,_=r.icons,I={loading:(_==null?void 0:_.loading)||S(ar,{}),checked:(_==null?void 0:_.checked)||S(ir,{}),next:(_==null?void 0:_.next)||(l?S(lr,{}):S(ur,{}))},E=u("cascader"),k=r.mode==="multiple",C=V.exports.useRef(null),W=Ce(),b=Ar(function(){return kr(r,ne("value"in r?r.value:r.defaultValue,k))},[JSON.stringify(He(r)),r.options]),B=ge(V.exports.useState(function(){return"value"in r?ne(r.value,k,b):"defaultValue"in r?ne(r.defaultValue,k,b):[]}),2),U=B[0],p=B[1],w="value"in r?ne(r.value,k,b):U,T=ge(Ne(!1,{value:r.popupVisible,defaultValue:r.defaultPopupVisible}),2),x=T[0],H=T[1],A=ge(Ne("",{value:"inputValue"in r?r.inputValue||"":void 0}),3),s=A[0],g=A[1],h=A[2],y=V.exports.useRef(s),F=V.exports.useRef(null),R=V.exports.useRef(null),f=V.exports.useRef((b==null?void 0:b.getCheckedNodes())||[]),z=or(E+"-popup-"),J=function(c,N){c!==y.current&&(g(c),y.current=c,F.current=N,r.onInputValueChange&&r.onInputValueChange(c,N))};V.exports.useEffect(function(){var c=F.current;h===s&&(c==="manual"||c==="optionListHide")&&r.onSearch&&r.onSearch(s,c),s!==y.current&&(y.current=s)},[s]),V.exports.useEffect(function(){var c=function(){clearTimeout(C.current),C.current=null};return!x&&s&&(C.current&&c(),C.current=setTimeout(function(){J("","optionListHide"),C.current=null},200)),function(){c()}},[x]),le(function(){if("value"in r&&r.value!==U){var c=ne(r.value,k);b.setNodeCheckedByValue(c),p(c)}},[r.value,k]),V.exports.useImperativeHandle(a,function(){return R.current},[]);var ve=function(c){f.current=Array.from(new Set([].concat(c,f.current)))},ke=function(c){var N=[],L=he(c),P=function(D){D.some(function(m){if(X(L,m.pathValue)&&(N.push(m.getPathNodes().map(function(ee){return ee._data})),wr(L,m.pathValue)),!L.size)return!0})};return P(b.getCheckedNodes()),L.size&&P(f.current),N},K=V.exports.useCallback(function(c){c!==x&&(r.onVisibleChange&&r.onVisibleChange(c),"popupVisible"in r||H(c))},[r.onVisibleChange,x]),Ue=V.exports.useCallback(function(c){var N,L=ke([c])[0]||[],P,D=ye(c)?c.map(function(m){return String(m)}):[];return L.length&&(D=L.map(function(m){return m.label})),G(o)?P=o(D):D.every(function(m){return re(m)})?P=D.join(" / "):P=D.reduce(function(m,ee,q){return m.concat(q===0?[ee]:[" / ",ee])},[]),{text:P||"",disabled:(N=L[L.length-1])===null||N===void 0?void 0:N.disabled}},[b,o]),Z=function(c,N){var L;N==="panel"&&ae(r.showSearch)&&!r.showSearch.retainInputValueWhileSelect&&k&&J("","optionChecked");var P=r.onChange,D=r.changeOnSelect,m=r.expandTrigger,ee=w===c;if(!ee){k||b.setNodeCheckedByValue(c),ve(b.getCheckedNodes());var q=ke(c),Je=k?c:c[0],qe=k?q:q[0];k||(s||q[0]&&((L=q[0][q[0].length-1])===null||L===void 0?void 0:L.isLeaf)||D&&m==="hover")&&K(!1),"value"in r?(b.setNodeCheckedByValue(w),W()):p(c),P&&P(Je,qe,{dropdownVisible:x})}},ze=function(c,N,L){if(L.stopPropagation(),!c.disabled){var P=w.filter(function(D,m){return m!==N});b.setNodeCheckedByValue(P),Z(P)}},we=function(c){var N=c||R.current&&R.current.getWidth();return S("div",{className:E+"-list-empty",style:{width:N},children:r.notFoundContent||n("Cascader")})},Ke=function(){var c,N=ae(r.showSearch)?r.showSearch.panelMode:void 0,L=N===Oe.select?!0:N===Oe.cascader?!1:!G(r.onSearch)&&!!s,P=R.current&&R.current.getWidth(),D=G(r.dropdownRender)?r.dropdownRender:function(m){return m};return S("div",{id:z,className:Q(E+"-popup",r.dropdownMenuClassName,(c={},c[E+"-popup-trigger-hover"]=r.expandTrigger==="hover",c)),children:D(S("div",{className:E+"-popup-inner",onMouseDown:function(m){return m.preventDefault()},children:L?S(Lr,{style:{minWidth:P},store:b,inputValue:s,renderEmpty:function(){return we(P)},multiple:k,onChange:function(m){Z(m,"panel")},prefixCls:E,rtl:l,onEsc:function(){K(!1)},renderOption:ae(r.showSearch)&&r.showSearch.renderOption||void 0,getTriggerElement:function(){var m;return(m=R.current)===null||m===void 0?void 0:m.dom},value:w,virtualListProps:r.virtualListProps,defaultActiveFirstOption:r.defaultActiveFirstOption,icons:I}):S(Or,{dropdownMenuColumnStyle:r.dropdownMenuColumnStyle,virtualListProps:r.virtualListProps,expandTrigger:j,store:b,dropdownColumnRender:r.dropdownColumnRender,renderOption:r.renderOption,changeOnSelect:r.changeOnSelect,showEmptyChildren:r.showEmptyChildren||!!r.loadMore,multiple:k,onChange:function(m){Z(m,"panel")},loadMore:r.loadMore,prefixCls:E,rtl:l,getTriggerElement:function(){var m;return(m=R.current)===null||m===void 0?void 0:m.dom},renderEmpty:we,popupVisible:x,value:w,renderFooter:r.renderFooter,icons:I,onEsc:function(){K(!1)},onDoubleClickOption:function(){r.changeOnSelect&&!k&&K(!1)}})}))})},Ge=function(c){Z(c)},Se=function(c){return S(dr,{...fe({popup:Ke,trigger:r.trigger,disabled:d,getPopupContainer:v,position:l?"br":"bl",classNames:"slideDynamicOrigin",popupAlign:Rr,unmountOnExit:"unmountOnExit"in r?r.unmountOnExit:!G(r.loadMore),popupVisible:x},M,{onVisibleChange:K}),children:c})};return O?Se(O):S(sr,{...fe({},r,{ref:R,ariaControls:z,popupVisible:x,value:k?w:w&&w[0],inputValue:s,rtl:l,isEmptyValue:_r(w),prefixCls:E,isMultiple:k,renderText:Ue,onRemoveCheckedItem:ze,onSort:Ge,renderView:Se,onClear:function(c){var N;if(c.stopPropagation(),!k)Z([]);else{var L=b.getCheckedNodes(),P=L.filter(function(D){return D.disabled}).map(function(D){return D.pathValue});b.setNodeCheckedByValue(P),Z(P)}(N=r.onClear)===null||N===void 0||N.call(r,!!x)},onKeyDown:function(c){var N;if(!d){c.stopPropagation();var L=c.keyCode||c.which;L===_e.code&&!x&&(K(!0),c.preventDefault()),L===cr.code&&x&&K(!1),(N=r.onKeyDown)===null||N===void 0||N.call(r,c)}},onChangeInputValue:function(c){J(c,"manual"),x||K(!0)}})})}var We=V.exports.forwardRef(Dr);We.displayName="Cascader";var jr=We;export{jr as C};
