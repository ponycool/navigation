import{a6 as T,u as y,r as a,j as r,a as l,a8 as p,B as P}from"./index.c8b1aa20.js";import{C as b}from"./index.903d08ba.js";import{T as z}from"./index.a2a0486e.js";import{P as j}from"./index.3003e892.js";import{i as D,S as v,s as w}from"./form.8b0ef36e.js";import{getColumns as B}from"./constants.1017aa78.js";import"./b-tween.es.064e2a03.js";import"./index.1f76d709.js";import"./pad.bd2bc6f4.js";import"./index.c381fd4d.js";import"./index.8229bafe.js";import"./index.af6e232c.js";function F(o){return T({url:"/record/query",method:"post",data:o})}function G(){const o=y(D),[t,i]=a.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[s,d]=a.exports.useState({}),f=a.exports.useMemo(()=>B(o),[o]),[g,h]=a.exports.useState([]),[S,c]=a.exports.useState(!0);a.exports.useEffect(()=>{u()},[t.current,t.pageSize,JSON.stringify(s)]);function u(){const{current:e,pageSize:n}=t;c(!0),F({page:e,pageSize:n,...s}).then(m=>{h(m.data.pageData),i({...t,current:e,pageSize:n,total:m.data.total}),c(!1)})}function C({current:e,pageSize:n}){i({...t,current:e,pageSize:n})}function x(e){i({...t,current:1}),e.time!=""&&e.time!=null&&(e.startTime=e.time[0],e.endTime=e.time[1],delete e.time),d(e)}return r("div",{children:l(b,{children:[r(v,{onSearch:x}),r(j,{children:l("div",{className:w["button-group"],children:[r(p,{}),r(p,{children:r(P,{onClick:()=>{u()},type:"primary",children:o["searchTable.operations.reload"]})})]})}),r(z,{rowKey:"id",loading:S,onChange:C,pagination:t,columns:f,data:g})]})})}export{G as default};
