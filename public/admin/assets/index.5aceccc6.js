import{a6 as T,u as b,r,j as e,a as u,a8 as m,B as z,m as L}from"./index.8245620f.js";import{C as P}from"./index.735bd313.js";import{T as j}from"./index.b970a774.js";import{P as v}from"./index.3faf09b3.js";import{i as w,S as B,s as D}from"./form.8bb12774.js";import{getColumns as F}from"./constants.d8368f2e.js";import"./b-tween.es.064e2a03.js";import"./index.3ff74fb3.js";function N(a){return T({url:"/log/login",method:"post",data:a})}const{Title:k}=L;function A(){const a=b(w),[g,h]=r.exports.useState([]),[i,d]=r.exports.useState({}),[t,n]=r.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),f=r.exports.useMemo(()=>F(a),[a]),[S,c]=r.exports.useState(!1);r.exports.useEffect(()=>{l()},[t.current,t.pageSize,JSON.stringify(i)]);function l(){const{current:s,pageSize:o}=t;c(!0),N({page:s,pageSize:o,...i}).then(async p=>{const y=p.data.pageData;h(y),n({...t,current:s,pageSize:o,total:p.data.total}),c(!1)})}function C({current:s,pageSize:o}){n({...t,current:s,pageSize:o})}function x(s){n({...t,current:1}),d(s)}return e("div",{children:u(P,{children:[e(k,{heading:6,children:a["menu.list.searchTable"]}),e(B,{onSearch:x}),e(v,{children:u("div",{className:D["button-group"],children:[e(m,{}),e(m,{children:e(z,{onClick:()=>{l()},type:"primary",children:a["searchTable.operations.reload"]})})]})}),e(j,{rowKey:"id",pagination:t,onChange:C,loading:S,columns:f,data:g})]})})}export{A as default};
